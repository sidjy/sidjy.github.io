<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_127.html">127</a>
 - <a href="get_trips_3_127_050050022:22_1.html">050050022:22 1</a>
 79672723-180289
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%2022%20%3A%20A%C3%A9roport%20cdg%201%20Terminal%203%20Roissypole%20%E2%86%92%20Gare%20de%20Villiers-le-bel%20Gonesse%20Arnouville%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22A%C3%A9roport%20cdg%201%20Terminal%203%20Roissypole%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Gare%20de%20Villiers-le-bel%20Gonesse%20Arnouville%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%2222%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22Trans%20Val%20d%27Oise%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23FFE600%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 22 : Aéroport cdg 1 Terminal 3 Roissypole → Gare de Villiers-le-bel Gonesse Arnouville</td></tr>
<tr><td>from:Aéroport cdg 1 Terminal 3 Roissypole</td></tr>
<tr><td>to:Gare de Villiers-le-bel Gonesse Arnouville</td></tr>
<tr><td>network:Trans Val d'Oise</td></tr>
<tr><td>ref:22</td></tr>
<tr><td>colour:#FFE600</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Aéroport cdg 1 Terminal 3 Roissypole</td>
<td style="background-color:#03FF00";> (similaire à 0%) - distance 3 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.55877&right=2.55937&top=49.01068&bottom=49.01008&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Aéroport cdg 1 Terminal 3 Roissypole&select=node1837857937" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.55877&right=2.55937&top=49.01068&bottom=49.01008" onclick="map.fitBounds([[49.01008,2.55877],[49.01068,2.55937]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Tour de Contrôle</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.009184&lon=2.54427&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Tour de Contrôle" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.54397&right=2.54457&top=49.009484&bottom=49.008884" onclick="map.fitBounds([[49.008884,2.54397],[49.009484,2.54457]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Chesneau</td>
<td style="background-color:#25FF00";>Chesneau (similaire à 100%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.521564&right=2.522164&top=49.00709&bottom=49.00649" onclick="map.fitBounds([[49.00649,2.521564],[49.00709,2.522164]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Orangerie</td>
<td style="background-color:#7DFF00";> (similaire à 0%) - distance 50 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.519441&right=2.520041&top=49.003135&bottom=49.002535&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Orangerie&select=node1240424931" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.519441&right=2.520041&top=49.003135&bottom=49.002535" onclick="map.fitBounds([[49.002535,2.519441],[49.003135,2.520041]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Verger</td>
<td style="background-color:#3AFF00";>Verger (similaire à 100%) - distance 24 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.516161&right=2.516761&top=48.998737&bottom=48.998137" onclick="map.fitBounds([[48.998137,2.516161],[48.998737,2.516761]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Eglise Saint Eloi</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.000004&lon=2.514117&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Eglise Saint Eloi" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.513817&right=2.514417&top=49.000304&bottom=48.999704" onclick="map.fitBounds([[48.999704,2.513817],[49.000304,2.514417]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Charles de Gaulle</td>
<td style="background-color:#44FF00";>Charles de Gaulle (similaire à 100%) - distance 28 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.510406&right=2.511006&top=48.999471&bottom=48.998871" onclick="map.fitBounds([[48.998871,2.510406],[48.999471,2.511006]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Les Mines</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.984201&lon=2.471148&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Les Mines" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.470848&right=2.471448&top=48.984501&bottom=48.983901" onclick="map.fitBounds([[48.983901,2.470848],[48.984501,2.471448]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Triangle de Gonesse</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.983798&lon=2.467448&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Triangle de Gonesse" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.467148&right=2.467748&top=48.984098&bottom=48.983498" onclick="map.fitBounds([[48.983498,2.467148],[48.984098,2.467748]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Fontaine Cypierre</td>
<td style="background-color:#F0FF00";>Fontaine Cypierre (similaire à 100%) - distance 94 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.459888&right=2.460488&top=48.985679&bottom=48.985079" onclick="map.fitBounds([[48.985079,2.459888],[48.985679,2.460488]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF1400";>Cressonnières</td>
<td style="background-color:#3CFF00";>Fontaine Cypierre Rue d'Arsonval (similaire à 5%) - distance 25 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.458337&right=2.458937&top=48.989293&bottom=48.988693&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Cressonnières&select=node2497750727" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.458337&right=2.458937&top=48.989293&bottom=48.988693" onclick="map.fitBounds([[48.988693,2.458337],[48.989293,2.458937]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Arsonval</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.99231&lon=2.455485&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Arsonval" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.455185&right=2.455785&top=48.99261&bottom=48.99201" onclick="map.fitBounds([[48.99201,2.455185],[48.99261,2.455785]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Souvenir Français</td>
<td style="background-color:#2AFF00";>Souvenir Français (similaire à 100%) - distance 18 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.45398&right=2.45458&top=48.993736&bottom=48.993136" onclick="map.fitBounds([[48.993136,2.45398],[48.993736,2.45458]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gonesse Hôpital</td>
<td style="background-color:#06FF00";> (similaire à 0%) - distance 4 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.451976&right=2.452576&top=48.994934&bottom=48.994334&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gonesse Hôpital&select=node4428899202" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.451976&right=2.452576&top=48.994934&bottom=48.994334" onclick="map.fitBounds([[48.994334,2.451976],[48.994934,2.452576]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Salle des Fêtes</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.99351&lon=2.44296&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Salle des Fêtes" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.44266&right=2.44326&top=48.99381&bottom=48.99321" onclick="map.fitBounds([[48.99321,2.44266],[48.99381,2.44326]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Chemin d'Ecouen</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.001743&lon=2.430097&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Chemin d'Ecouen" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.429797&right=2.430397&top=49.002043&bottom=49.001443" onclick="map.fitBounds([[49.001443,2.429797],[49.002043,2.430397]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0500";>Aristide Briand / Général Durand</td>
<td style="background-color:#73FF00";>Mairie Annexe (similaire à 2%) - distance 46 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.425889&right=2.426489&top=49.001076&bottom=49.000476&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Aristide Briand / Général Durand&select=node2489722002" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.425889&right=2.426489&top=49.001076&bottom=49.000476" onclick="map.fitBounds([[49.000476,2.425889],[49.001076,2.426489]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Square la Garenne</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.999483&lon=2.42381&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Square la Garenne" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.42351&right=2.42411&top=48.999783&bottom=48.999183" onclick="map.fitBounds([[48.999183,2.42351],[48.999783,2.42411]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#C1FF00";>Gare de Villiers-le-bel Gonesse Arnouville</td>
<td style="background-color:#6BFF00";>Gare de Villiers-le-Bel (similaire à 62%) - distance 43 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.416481&right=2.417081&top=48.994136&bottom=48.993536" onclick="map.fitBounds([[48.993536,2.416481],[48.994136,2.417081]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.55907,49.01038],[2.54427,49.009184],[2.521864,49.00679],[2.519741,49.002835],[2.516461,48.998437],[2.514117,49.000004],[2.510706,48.999171],[2.471148,48.984201],[2.467448,48.983798],[2.460188,48.985379],[2.458637,48.988993],[2.455485,48.99231],[2.45428,48.993436],[2.452276,48.994634],[2.44296,48.99351],[2.430097,49.001743],[2.426189,49.000776],[2.42381,48.999483],[2.416781,48.993836]]},
	{"type":"Point","coordinates":[2.55907,49.01038]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
