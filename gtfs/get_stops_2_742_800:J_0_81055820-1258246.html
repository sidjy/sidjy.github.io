<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_2.html">Train</a>
 - <a href="get_routes_2_742.html">742</a>
 - <a href="get_trips_2_742_800:J_0.html">800:J 0</a>
 81055820-1258246
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Train%20J%20%3A%20Gare%20st%20Lazare%20%E2%86%92%20Gare%20de%20Mantes%20la%20Jolie%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Gare%20st%20Lazare%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Gare%20de%20Mantes%20la%20Jolie%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22J%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22TRAIN%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23C6CC00%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Train J : Gare st Lazare → Gare de Mantes la Jolie</td></tr>
<tr><td>from:Gare st Lazare</td></tr>
<tr><td>to:Gare de Mantes la Jolie</td></tr>
<tr><td>network:TRAIN</td></tr>
<tr><td>ref:J</td></tr>
<tr><td>colour:#C6CC00</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FFDF00";>Gare st Lazare</td>
<td style="background-color:#FF9900";>Saint-Lazare (node similaire à 44%) - distance 139 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.324438&right=2.325038&top=48.877137&bottom=48.876537" onclick="map.fitBounds([[48.876537,2.324438],[48.877137,2.325038]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#C6FF00";>Gare d'Argenteuil</td>
<td style="background-color:#44FF00";>Argenteuil (node similaire à 61%) - distance 28 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.257597&right=2.258197&top=48.947097&bottom=48.946497" onclick="map.fitBounds([[48.946497,2.257597],[48.947097,2.258197]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#92FF00";>Gare de val d Argenteuil</td>
<td style="background-color:#4CFF00";>Val d'Argenteuil (node similaire à 71%) - distance 31 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.23081&right=2.23141&top=48.950604&bottom=48.950004" onclick="map.fitBounds([[48.950004,2.23081],[48.950604,2.23141]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#88FF00";>Gare de Cormeilles en Parisis</td>
<td style="background-color:#4CFF00";>Cormeilles-en-Parisis (node similaire à 73%) - distance 31 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.193143&right=2.193743&top=48.968796&bottom=48.968196" onclick="map.fitBounds([[48.968196,2.193143],[48.968796,2.193743]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#97FF00";>Gare de la Frette Montigny</td>
<td style="background-color:#03FF00";>La Frette Montigny (node similaire à 70%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.179712&right=2.180312&top=48.980564&bottom=48.979964" onclick="map.fitBounds([[48.979964,2.179712],[48.980564,2.180312]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFFF00";>Gare de Herblay</td>
<td style="background-color:#06FF00";>Herblay (node similaire à 50%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.161607&right=2.162207&top=48.99059&bottom=48.98999" onclick="map.fitBounds([[48.98999,2.161607],[48.99059,2.162207]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#DBFF00";>Gare de Conflans ste Honorine</td>
<td style="background-color:#0BFF00";>Conflans-Sainte-Honorine (node similaire à 57%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.097474&right=2.098074&top=48.99693&bottom=48.99633" onclick="map.fitBounds([[48.99633,2.097474],[48.99693,2.098074]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#83FF00";>Gare de Conflans fin d'Oise</td>
<td style="background-color:#FFF100";>Conflans-Fin-d'Oise (node similaire à 74%) - distance 105 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.073713&right=2.074313&top=48.991617&bottom=48.991017" onclick="map.fitBounds([[48.991017,2.073713],[48.991617,2.074313]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#D6FF00";>Gare de Maurecourt</td>
<td style="background-color:#28FF00";>Maurecourt (node similaire à 58%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.059488&right=2.060088&top=48.987357&bottom=48.986757" onclick="map.fitBounds([[48.986757,2.059488],[48.987357,2.060088]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF8C00";>Gare d'Andresy</td>
<td style="background-color:#1DFF00";>Andrésy (node similaire à 28%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.048783&right=2.049383&top=48.975121&bottom=48.974521" onclick="map.fitBounds([[48.974521,2.048783],[48.975121,2.049383]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#8DFF00";>Gare de Chanteloup les Vignes</td>
<td style="background-color:#0EFF00";>Chanteloup-les-Vignes (node similaire à 72%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.027219&right=2.027819&top=48.970667&bottom=48.970067" onclick="map.fitBounds([[48.970067,2.027219],[48.970667,2.027819]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#B1FF00";>Gare de Triel sur Seine</td>
<td style="background-color:#18FF00";>Triel-sur-Seine (node similaire à 65%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.005631&right=2.006231&top=48.981372&bottom=48.980772" onclick="map.fitBounds([[48.980772,2.005631],[48.981372,2.006231]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#B7FF00";>Gare de Vaux sur Seine</td>
<td style="background-color:#08FF00";>Vaux-sur-Seine (node similaire à 64%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1.963252&right=1.963852&top=49.007427&bottom=49.006827" onclick="map.fitBounds([[49.006827,1.963252],[49.007427,1.963852]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#A7FF00";>Gare de Thun le Paradis</td>
<td style="background-color:#08FF00";>Thun-le-Paradis (node similaire à 67%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1.918937&right=1.919537&top=49.007&bottom=49.0064" onclick="map.fitBounds([[49.0064,1.918937],[49.007,1.919537]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#97FF00";>Gare de Meulan Hardricourt</td>
<td style="background-color:#0EFF00";>Meulan - Hardricourt (node similaire à 70%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1.901482&right=1.902082&top=49.006063&bottom=49.005463" onclick="map.fitBounds([[49.005463,1.901482],[49.006063,1.902082]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFFF00";>Gare de Juziers</td>
<td style="background-color:#6EFF00";>Juziers (node similaire à 50%) - distance 44 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1.844834&right=1.845434&top=48.992541&bottom=48.991941" onclick="map.fitBounds([[48.991941,1.844834],[48.992541,1.845434]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#92FF00";>Gare de Gargenville</td>
<td style="background-color:#13FF00";>Gargenville (node similaire à 71%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1.808608&right=1.809208&top=48.98328&bottom=48.98268" onclick="map.fitBounds([[48.98268,1.808608],[48.98328,1.809208]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#8DFF00";>Gare d'Issou Porcheville</td>
<td style="background-color:#00FF00";>Issou-Porcheville (node similaire à 72%) - distance 2 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1.783673&right=1.784273&top=48.979592&bottom=48.978992" onclick="map.fitBounds([[48.978992,1.783673],[48.979592,1.784273]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFDA00";>Gare de Limay</td>
<td style="background-color:#4FFF00";>Limay (node similaire à 43%) - distance 32 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1.747486&right=1.748086&top=48.984473&bottom=48.983873" onclick="map.fitBounds([[48.983873,1.747486],[48.984473,1.748086]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#B1FF00";>Gare de Mantes Station</td>
<td style="background-color:#22FF00";>Mantes-Station (node similaire à 65%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1.714911&right=1.715511&top=48.983955&bottom=48.983355" onclick="map.fitBounds([[48.983355,1.714911],[48.983955,1.715511]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#A7FF00";>Gare de Mantes la Jolie</td>
<td style="background-color:#1DFF00";>Mantes-la-Jolie (node similaire à 67%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1.702716&right=1.703316&top=48.989803&bottom=48.989203" onclick="map.fitBounds([[48.989203,1.702716],[48.989803,1.703316]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.324738,48.876837],[2.257897,48.946797],[2.23111,48.950304],[2.193443,48.968496],[2.180012,48.980264],[2.161907,48.99029],[2.097774,48.99663],[2.074013,48.991317],[2.059788,48.987057],[2.049083,48.974821],[2.027519,48.970367],[2.005931,48.981072],[1.963552,49.007127],[1.919237,49.0067],[1.901782,49.005763],[1.845134,48.992241],[1.808908,48.98298],[1.783973,48.979292],[1.747786,48.984173],[1.715211,48.983655],[1.703016,48.989503]]},
	{"type":"Point","coordinates":[2.324738,48.876837]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
