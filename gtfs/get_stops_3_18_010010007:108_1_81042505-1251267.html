<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_18.html">18</a>
 - <a href="get_trips_3_18_010010007:108_1.html">010010007:108 1</a>
 81042505-1251267
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20108%20%3A%20Porte%20d%27Orl%C3%A9ans%20%E2%86%92%20Zi%20Croix%20Blanche%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Porte%20d%27Orl%C3%A9ans%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Zi%20Croix%20Blanche%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22108%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22CEAT%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23A2C516%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 108 : Porte d'Orléans → Zi Croix Blanche</td></tr>
<tr><td>from:Porte d'Orléans</td></tr>
<tr><td>to:Zi Croix Blanche</td></tr>
<tr><td>network:CEAT</td></tr>
<tr><td>ref:108</td></tr>
<tr><td>colour:#A2C516</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#00FF00";>Porte d'Orléans</td>
<td style="background-color:#47FF00";>Porte d'Orléans (similaire à 100%) - distance 29 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.325294&right=2.325894&top=48.824414&bottom=48.823814" onclick="map.fitBounds([[48.823814,2.325294],[48.824414,2.325894]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Champarts</td>
<td style="background-color:#2AFF00";>Champarts (similaire à 100%) - distance 18 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.29815&right=2.29875&top=48.717082&bottom=48.716482" onclick="map.fitBounds([[48.716482,2.29815],[48.717082,2.29875]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Petit Chilly</td>
<td style="background-color:#28FF00";>Petit Chilly (similaire à 100%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.297367&right=2.297967&top=48.710502&bottom=48.709902" onclick="map.fitBounds([[48.709902,2.297367],[48.710502,2.297967]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gare de Longjumeau</td>
<td style="background-color:#56FF00";>Chemin Blanc (similaire à 0%) - distance 35 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.29649&right=2.29709&top=48.703814&bottom=48.703214&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare de Longjumeau&select=node2838610280" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.29649&right=2.29709&top=48.703814&bottom=48.703214" onclick="map.fitBounds([[48.703214,2.29649],[48.703814,2.29709]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Place Charles Steber</td>
<td style="background-color:#10FF00";>Place Charles Steber (similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.293927&right=2.294527&top=48.698312&bottom=48.697712" onclick="map.fitBounds([[48.697712,2.293927],[48.698312,2.294527]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#C1FF00";>Eglise Longjumeau</td>
<td style="background-color:#00FF00";>Église de Longjumeau (similaire à 62%) - distance 1 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.293171&right=2.293771&top=48.693656&bottom=48.693056" onclick="map.fitBounds([[48.693056,2.293171],[48.693656,2.293771]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Foyer Avril</td>
<td style="background-color:#5CFF00";>Foyer Avril (similaire à 100%) - distance 37 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.29753&right=2.29813&top=48.692507&bottom=48.691907" onclick="map.fitBounds([[48.691907,2.29753],[48.692507,2.29813]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Clinique de l'Yvette</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.689664&lon=2.300805&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Clinique de l'Yvette" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.300505&right=2.301105&top=48.689964&bottom=48.689364" onclick="map.fitBounds([[48.689364,2.300505],[48.689964,2.301105]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Balizy</td>
<td style="background-color:#2DFF00";>Balizy (similaire à 100%) - distance 19 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.309754&right=2.310354&top=48.683549&bottom=48.682949" onclick="map.fitBounds([[48.682949,2.309754],[48.683549,2.310354]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#C1FF00";>Chevauchee</td>
<td style="background-color:#1DFF00";>Chevauchée (similaire à 62%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.313814&right=2.314414&top=48.680988&bottom=48.680388" onclick="map.fitBounds([[48.680388,2.313814],[48.680988,2.314414]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Engelthal</td>
<td style="background-color:#00FF00";> (similaire à 0%) - distance 1 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.315009&right=2.315609&top=48.68035&bottom=48.67975&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Engelthal&select=node3790547402" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.315009&right=2.315609&top=48.68035&bottom=48.67975" onclick="map.fitBounds([[48.67975,2.315009],[48.68035,2.315609]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mauregard</td>
<td style="background-color:#15FF00";>Mauregard (similaire à 100%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.318254&right=2.318854&top=48.678526&bottom=48.677926" onclick="map.fitBounds([[48.677926,2.318254],[48.678526,2.318854]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Terrasses</td>
<td style="background-color:#00FF00";>Terrasses (similaire à 100%) - distance 1 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.322367&right=2.322967&top=48.676099&bottom=48.675499" onclick="map.fitBounds([[48.675499,2.322367],[48.676099,2.322967]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#7DFF00";>Pl des Monseaux</td>
<td style="background-color:#06FF00";>Place des Monseaux (similaire à 75%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.327811&right=2.328411&top=48.6729&bottom=48.6723" onclick="map.fitBounds([[48.6723,2.327811],[48.6729,2.328411]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFF400";>Gare d'Epinay</td>
<td style="background-color:#15FF00";>Gare d'Épinay RER C (similaire à 48%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.332235&right=2.332835&top=48.670437&bottom=48.669837" onclick="map.fitBounds([[48.669837,2.332235],[48.670437,2.332835]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>La Rivière</td>
<td style="background-color:#10FF00";>La Rivière (similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.332615&right=2.333215&top=48.6673&bottom=48.6667" onclick="map.fitBounds([[48.6667,2.332615],[48.6673,2.333215]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>St Laurent</td>
<td style="background-color:#18FF00";>Rue de Morsang (similaire à 0%) - distance 11 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.337365&right=2.337965&top=48.665952&bottom=48.665352&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=St Laurent&select=node3244472599" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.337365&right=2.337965&top=48.665952&bottom=48.665352" onclick="map.fitBounds([[48.665352,2.337365],[48.665952,2.337965]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Calvaire</td>
<td style="background-color:#15FF00";>Calvaire (similaire à 100%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.340771&right=2.341371&top=48.661646&bottom=48.661046" onclick="map.fitBounds([[48.661046,2.340771],[48.661646,2.341371]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Demi Lune</td>
<td style="background-color:#37FF00";>Demi Lune (similaire à 100%) - distance 23 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.339224&right=2.339824&top=48.658554&bottom=48.657954" onclick="map.fitBounds([[48.657954,2.339224],[48.658554,2.339824]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#DBFF00";>Beausejour</td>
<td style="background-color:#25FF00";>Beauséjour (similaire à 57%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.337026&right=2.337626&top=48.652396&bottom=48.651796" onclick="map.fitBounds([[48.651796,2.337026],[48.652396,2.337626]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Lafayette</td>
<td style="background-color:#00FF00";>Lafayette (similaire à 100%) - distance 1 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.335384&right=2.335984&top=48.648046&bottom=48.647446" onclick="map.fitBounds([[48.647446,2.335384],[48.648046,2.335984]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#92FF00";>Etoile Stalingrad</td>
<td style="background-color:#00FF00";>Étoile Stalingrad (similaire à 71%) - distance 1 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.334665&right=2.335265&top=48.646005&bottom=48.645405" onclick="map.fitBounds([[48.645405,2.334665],[48.646005,2.335265]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFFF00";>Marché</td>
<td style="background-color:#0BFF00";>Donjon-Marché (similaire à 50%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.332401&right=2.333001&top=48.63841&bottom=48.63781" onclick="map.fitBounds([[48.63781,2.332401],[48.63841,2.333001]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFCA00";>Eglise</td>
<td style="background-color:#00FF00";>Église (similaire à 40%) - distance 0 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.333255&right=2.333855&top=48.635192&bottom=48.634592" onclick="map.fitBounds([[48.634592,2.333255],[48.635192,2.333855]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Commissariat</td>
<td style="background-color:#15FF00";>Commissariat (similaire à 100%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.33807&right=2.33867&top=48.631174&bottom=48.630574" onclick="map.fitBounds([[48.630574,2.33807],[48.631174,2.33867]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mare au Chanvre</td>
<td style="background-color:#00FF00";>Mare au Chanvre (similaire à 100%) - distance 0 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.339846&right=2.340446&top=48.629663&bottom=48.629063" onclick="map.fitBounds([[48.629063,2.339846],[48.629663,2.340446]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#49FF00";>Zi Croix Blanche</td>
<td style="background-color:#18FF00";>ZI La Croix Blanche (similaire à 85%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.341324&right=2.341924&top=48.624072&bottom=48.623472" onclick="map.fitBounds([[48.623472,2.341324],[48.624072,2.341924]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.325594,48.824114],[2.29845,48.716782],[2.297667,48.710202],[2.29679,48.703514],[2.294227,48.698012],[2.293471,48.693356],[2.29783,48.692207],[2.300805,48.689664],[2.310054,48.683249],[2.314114,48.680688],[2.315309,48.68005],[2.318554,48.678226],[2.322667,48.675799],[2.328111,48.6726],[2.332535,48.670137],[2.332915,48.667],[2.337665,48.665652],[2.341071,48.661346],[2.339524,48.658254],[2.337326,48.652096],[2.335684,48.647746],[2.334965,48.645705],[2.332701,48.63811],[2.333555,48.634892],[2.33837,48.630874],[2.340146,48.629363],[2.341624,48.623772]]},
	{"type":"Point","coordinates":[2.325594,48.824114]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
