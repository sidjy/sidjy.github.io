<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_442.html">442</a>
 - <a href="get_trips_3_442_100100163:163_0.html">100100163:163 0</a>
 80270943-1136929
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20163%20%3A%20Porte%20de%20Champerret-Metro%20%E2%86%92%20Nanterre%20-%20Prefecture%20rer%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Porte%20de%20Champerret-Metro%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Nanterre%20-%20Prefecture%20rer%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22163%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22RATP%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23DFB039%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 163 : Porte de Champerret-Metro → Nanterre - Prefecture rer</td></tr>
<tr><td>from:Porte de Champerret-Metro</td></tr>
<tr><td>to:Nanterre - Prefecture rer</td></tr>
<tr><td>network:RATP</td></tr>
<tr><td>ref:163</td></tr>
<tr><td>colour:#DFB039</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Nanterre - Prefecture rer</td>
<td style="background-color:#FDFF00";> (similaire à 0%) - distance 99 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,220757&right=2,221357&top=48,897148&bottom=48,896548&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Nanterre - Prefecture rer&select=node4318225436" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,220757&right=2,221357&top=48,897148&bottom=48,896548" onclick="map.fitBounds([[48,896548,2,220757],[48,897148,2,221357]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Esplanade Charles de Gaulle</td>
<td style="background-color:#61FF00";> (similaire à 0%) - distance 39 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,221879&right=2,222479&top=48,895361&bottom=48,894761&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Esplanade Charles de Gaulle&select=node2304090777" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,221879&right=2,222479&top=48,895361&bottom=48,894761" onclick="map.fitBounds([[48,894761,2,221879],[48,895361,2,222479]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#78FF00";>Marcel Paul - Prefecture</td>
<td style="background-color:#44FF00";>Marcel Paul–Préfecture (similaire à 76%) - distance 28 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,21731&right=2,21791&top=48,896533&bottom=48,895933" onclick="map.fitBounds([[48,895933,2,21731],[48,896533,2,21791]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0A00";>Prefecture des Hauts-de-Seine</td>
<td style="background-color:#C4FF00";>Marcel Paul (similaire à 3%) - distance 77 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,217675&right=2,218275&top=48,89772&bottom=48,89712&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Prefecture des Hauts-de-Seine&select=node2304085800" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,217675&right=2,218275&top=48,89772&bottom=48,89712" onclick="map.fitBounds([[48,89712,2,217675],[48,89772,2,218275]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Lens</td>
<td style="background-color:#78FF00";>Lens (similaire à 100%) - distance 48 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,221106&right=2,221706&top=48,899503&bottom=48,898903" onclick="map.fitBounds([[48,898903,2,221106],[48,899503,2,221706]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Arras</td>
<td style="background-color:#00FF00";>Arras (similaire à 100%) - distance 1 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,224483&right=2,225083&top=48,901447&bottom=48,900847" onclick="map.fitBounds([[48,900847,2,224483],[48,901447,2,225083]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Veuve Lacroix</td>
<td style="background-color:#06FF00";>Veuve Lacroix (similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,227342&right=2,227942&top=48,90305&bottom=48,90245" onclick="map.fitBounds([[48,90245,2,227342],[48,90305,2,227942]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>College les Champs Philippe</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.904227&lon=2.231443&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=College les Champs Philippe" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,231143&right=2,231743&top=48,904527&bottom=48,903927" onclick="map.fitBounds([[48,903927,2,231143],[48,904527,2,231743]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Bonnin</td>
<td style="background-color:#4CFF00";>Bonnin (similaire à 100%) - distance 31 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,233908&right=2,234508&top=48,905572&bottom=48,904972" onclick="map.fitBounds([[48,904972,2,233908],[48,905572,2,234508]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Garenne-Colombes - Charlebourg</td>
<td style="background-color:#4CFF00";> (similaire à 0%) - distance 31 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,237504&right=2,238104&top=48,906959&bottom=48,906359&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Garenne-Colombes - Charlebourg&select=node4597747916" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,237504&right=2,238104&top=48,906959&bottom=48,906359" onclick="map.fitBounds([[48,906359,2,237504],[48,906959,2,238104]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Dumont d'Urville - Belgique</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.907371&lon=2.240898&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Dumont d'Urville - Belgique" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,240598&right=2,241198&top=48,907671&bottom=48,907071" onclick="map.fitBounds([[48,907071,2,240598],[48,907671,2,241198]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mairie de la Garenne-Colombes</td>
<td style="background-color:#13FF00";>Mairie de la Garenne-Colombes (similaire à 100%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,244811&right=2,245411&top=48,907198&bottom=48,906598" onclick="map.fitBounds([[48,906598,2,244811],[48,907198,2,245411]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Souvenir Francais</td>
<td style="background-color:#22FF00";> (similaire à 0%) - distance 15 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,248793&right=2,249393&top=48,906662&bottom=48,906062&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Souvenir Francais&select=node4598338288" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,248793&right=2,249393&top=48,906662&bottom=48,906062" onclick="map.fitBounds([[48,906062,2,248793],[48,906662,2,249393]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Plaisance</td>
<td style="background-color:#54FF00";>Plaisance (similaire à 100%) - distance 34 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,253893&right=2,254493&top=48,906019&bottom=48,905419" onclick="map.fitBounds([[48,905419,2,253893],[48,906019,2,254493]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Europe</td>
<td style="background-color:#1DFF00";>Europe (similaire à 100%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,256007&right=2,256607&top=48,905364&bottom=48,904764" onclick="map.fitBounds([[48,904764,2,256007],[48,905364,2,256607]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#83FF00";>Verdun - rue Laterale</td>
<td style="background-color:#78FF00";>Verdun - Rue Latérale (similaire à 74%) - distance 48 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,258656&right=2,259256&top=48,90276&bottom=48,90216" onclick="map.fitBounds([[48,90216,2,258656],[48,90276,2,259256]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Paix - Verdun</td>
<td style="background-color:#32FF00";> (similaire à 0%) - distance 21 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,260486&right=2,261086&top=48,900909&bottom=48,900309&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Paix - Verdun&select=node1001505536" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,260486&right=2,261086&top=48,900909&bottom=48,900309" onclick="map.fitBounds([[48,900309,2,260486],[48,900909,2,261086]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Pont Bineau</td>
<td style="background-color:#35FF00";> (similaire à 0%) - distance 22 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,263598&right=2,264198&top=48,897757&bottom=48,897157&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Pont Bineau&select=node1358670316" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,263598&right=2,264198&top=48,897757&bottom=48,897157" onclick="map.fitBounds([[48,897157,2,263598],[48,897757,2,264198]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#A2FF00";>Ile de la Jatte</td>
<td style="background-color:#69FF00";>Île de la Jatte (similaire à 68%) - distance 42 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,266669&right=2,267269&top=48,894793&bottom=48,894193" onclick="map.fitBounds([[48,894193,2,266669],[48,894793,2,267269]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>La Saussaye - Bineau</td>
<td style="background-color:#20FF00";>La Saussaye - Bineau (similaire à 100%) - distance 14 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,268593&right=2,269193&top=48,892835&bottom=48,892235" onclick="map.fitBounds([[48,892235,2,268593],[48,892835,2,269193]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#C1FF00";>Bineau - Chateau</td>
<td style="background-color:#35FF00";>Bineau - Château (similaire à 62%) - distance 22 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,270149&right=2,270749&top=48,891254&bottom=48,890654" onclick="map.fitBounds([[48,890654,2,270149],[48,891254,2,270749]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFA600";>Chezy</td>
<td style="background-color:#08FF00";>Chézy (similaire à 33%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,272359&right=2,272959&top=48,889979&bottom=48,889379" onclick="map.fitBounds([[48,889379,2,272359],[48,889979,2,272959]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Inkermann - Bineau</td>
<td style="background-color:#1DFF00";>Inkermann - Bineau (similaire à 100%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,274882&right=2,275482&top=48,888632&bottom=48,888032" onclick="map.fitBounds([[48,888032,2,274882],[48,888632,2,275482]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Victor Hugo</td>
<td style="background-color:#80FF00";>Victor Hugo (similaire à 100%) - distance 51 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,277594&right=2,278194&top=48,888014&bottom=48,887414" onclick="map.fitBounds([[48,887414,2,277594],[48,888014,2,278194]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Villiers - Bineau</td>
<td style="background-color:#25FF00";>Villiers - Bineau (similaire à 100%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,282065&right=2,282665&top=48,887252&bottom=48,886652" onclick="map.fitBounds([[48,886652,2,282065],[48,887252,2,282665]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>L'Yser et la Somme</td>
<td style="background-color:#61FF00";>L'Yser et la Somme (similaire à 100%) - distance 39 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,289316&right=2,289916&top=48,88632&bottom=48,88572" onclick="map.fitBounds([[48,88572,2,289316],[48,88632,2,289916]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#73FF00";>Porte de Champerret-Metro</td>
<td style="background-color:#37FF00";>Porte de Champerret (similaire à 77%) - distance 23 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,292192&right=2,292792&top=48,886285&bottom=48,885685" onclick="map.fitBounds([[48,885685,2,292192],[48,886285,2,292792]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.292492,48.885985],[2.289616,48.88602],[2.282365,48.886952],[2.277894,48.887714],[2.275182,48.888332],[2.272659,48.889679],[2.270449,48.890954],[2.268893,48.892535],[2.266969,48.894493],[2.263898,48.897457],[2.260786,48.900609],[2.258956,48.90246],[2.256307,48.905064],[2.254193,48.905719],[2.249093,48.906362],[2.245111,48.906898],[2.240898,48.907371],[2.237804,48.906659],[2.234208,48.905272],[2.231443,48.904227],[2.227642,48.90275],[2.224783,48.901147],[2.221406,48.899203],[2.217975,48.89742],[2.21761,48.896233],[2.222179,48.895061],[2.221057,48.896848]]},
	{"type":"Point","coordinates":[2.292492,48.885985]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
