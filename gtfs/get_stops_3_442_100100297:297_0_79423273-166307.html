<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_442.html">442</a>
 - <a href="get_trips_3_442_100100297:297_0.html">100100297:297 0</a>
 79423273-166307
</p>
<p><button onclick="get_itin()">Itinéraire</button></p>
<p id="load_josm"></p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20297%20%3A%20Porte%20d%27Orleans-Metro%20%E2%86%92%20Place%20Charles%20Steber%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Porte%20d%27Orleans-Metro%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Place%20Charles%20Steber%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22297%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22RATP%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23BB4D98%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 297 : Porte d'Orleans-Metro → Place Charles Steber</td></tr>
<tr><td>from:Porte d'Orleans-Metro</td></tr>
<tr><td>to:Place Charles Steber</td></tr>
<tr><td>network:RATP</td></tr>
<tr><td>ref:297</td></tr>
<tr><td>colour:#BB4D98</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#F5FF00";>Porte d'Orleans-Metro</td>
<td style="background-color:#28FF00";>Porte d'Orléans (node similaire à 52%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.325199&right=2.325799&top=48.82276&bottom=48.82216" onclick="map.fitBounds([[48.82216,2.325199],[48.82276,2.325799]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#C1FF00";>Gabriel Peri</td>
<td style="background-color:#4FFF00";>Gabriel Péri (node similaire à 62%) - distance 32 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.325023&right=2.325623&top=48.818473&bottom=48.817873" onclick="map.fitBounds([[48.817873,2.325023],[48.818473,2.325623]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#B1FF00";>Leon Gambetta</td>
<td style="background-color:#15FF00";>Léon Gambetta (node similaire à 65%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.325351&right=2.325951&top=48.813764&bottom=48.813164" onclick="map.fitBounds([[48.813164,2.325351],[48.813764,2.325951]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Vache Noire</td>
<td style="background-color:#10FF00";>Vache Noire (node similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.325964&right=2.326564&top=48.809369&bottom=48.808769" onclick="map.fitBounds([[48.808769,2.325964],[48.809369,2.326564]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Croix d'Arcueil</td>
<td style="background-color:#69FF00";>Croix d'Arcueil (node similaire à 100%) - distance 42 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.32504&right=2.32564&top=48.806043&bottom=48.805443" onclick="map.fitBounds([[48.805443,2.32504],[48.806043,2.32564]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Grange ory</td>
<td style="background-color:#03FF00";>Grange Ory (node similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.323245&right=2.323845&top=48.801342&bottom=48.800742" onclick="map.fitBounds([[48.800742,2.323245],[48.801342,2.323845]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Carnot - Aristide Briand</td>
<td style="background-color:#B4FF00";>Carnot – Aristide Briand (node similaire à 100%) - distance 71 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.322619&right=2.323219&top=48.799814&bottom=48.799214" onclick="map.fitBounds([[48.799214,2.322619],[48.799814,2.323219]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Marcel Bonnet</td>
<td style="background-color:#0EFF00";>Marcel Bonnet (node similaire à 100%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.32111&right=2.32171&top=48.796057&bottom=48.795457" onclick="map.fitBounds([[48.795457,2.32111],[48.796057,2.32171]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Pont Royal - RER</td>
<td style="background-color:#13FF00";>Pont Royal - RER (node similaire à 100%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.320322&right=2.320922&top=48.793999&bottom=48.793399" onclick="map.fitBounds([[48.793399,2.320322],[48.793999,2.320922]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#88FF00";>Cite Jardins</td>
<td style="background-color:#22FF00";>Cité Jardins (node similaire à 73%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.318827&right=2.319427&top=48.789873&bottom=48.789273" onclick="map.fitBounds([[48.789273,2.318827],[48.789873,2.319427]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#49FF00";>Place de la Resistance - Charles de Gaulle</td>
<td style="background-color:#2AFF00";>Place de la Résistance - Charles De Gaulle (node similaire à 85%) - distance 18 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.316774&right=2.317374&top=48.786269&bottom=48.785669" onclick="map.fitBounds([[48.785669,2.316774],[48.786269,2.317374]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Rue du 8 mai 1945</td>
<td style="background-color:#28FF00";>Rue du 8 Mai 1945 (node similaire à 100%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.314518&right=2.315118&top=48.783015&bottom=48.782415" onclick="map.fitBounds([[48.782415,2.314518],[48.783015,2.315118]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Bourg-la-Reine RER</td>
<td style="background-color:#2DFF00";>Bourg-la-Reine RER (node similaire à 100%) - distance 19 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.313064&right=2.313664&top=48.779635&bottom=48.779035" onclick="map.fitBounds([[48.779035,2.313064],[48.779635,2.313664]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#EBFF00";>Petit Chambord - Lycee Lakanal</td>
<td style="background-color:#22FF00";>Petit Chambord (node similaire à 54%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.31316&right=2.31376&top=48.777379&bottom=48.776779" onclick="map.fitBounds([[48.776779,2.31316],[48.777379,2.31376]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Cottages</td>
<td style="background-color:#06FF00";>Les Cottages (node similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.312808&right=2.313408&top=48.774772&bottom=48.774172" onclick="map.fitBounds([[48.774172,2.312808],[48.774772,2.313408]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>La Fontaine</td>
<td style="background-color:#1BFF00";>La Fontaine (node similaire à 100%) - distance 12 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.311178&right=2.311778&top=48.770637&bottom=48.770037" onclick="map.fitBounds([[48.770037,2.311178],[48.770637,2.311778]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Normandie</td>
<td style="background-color:#B4FF00";>Normandie (node similaire à 100%) - distance 71 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.309413&right=2.310013&top=48.766278&bottom=48.765678" onclick="map.fitBounds([[48.765678,2.309413],[48.766278,2.310013]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#92FF00";>General de Gaulle - Croix de Berny</td>
<td style="background-color:#18FF00";>Général de Gaulle-Croix de Berny (node similaire à 71%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.308068&right=2.308668&top=48.7627&bottom=48.7621" onclick="map.fitBounds([[48.7621,2.308068],[48.7627,2.308668]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Morteaux</td>
<td style="background-color:#32FF00";>Morteaux (node similaire à 100%) - distance 21 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.307295&right=2.307895&top=48.760669&bottom=48.760069" onclick="map.fitBounds([[48.760069,2.307295],[48.760669,2.307895]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Fernand Fenzy</td>
<td style="background-color:#35FF00";>Fernand Fenzy (node similaire à 100%) - distance 22 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.306371&right=2.306971&top=48.75843&bottom=48.75783" onclick="map.fitBounds([[48.75783,2.306371],[48.75843,2.306971]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Antony RER</td>
<td style="background-color:#15FF00";> (node similaire à 0%) - distance 10 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.301167&right=2.301767&top=48.755643&bottom=48.755043&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Antony RER&select=node2012582864" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.301167&right=2.301767&top=48.755643&bottom=48.755043" onclick="map.fitBounds([[48.755043,2.301167],[48.755643,2.301767]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#EBFF00";>Pont d'Antony</td>
<td style="background-color:#A2FF00";>Pont d'Antony-11 Novembre (node similaire à 54%) - distance 64 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.30397&right=2.30457&top=48.750736&bottom=48.750136" onclick="map.fitBounds([[48.750136,2.30397],[48.750736,2.30457]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Descartes</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.747885&lon=2.309314&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Descartes" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.309014&right=2.309614&top=48.748185&bottom=48.747585" onclick="map.fitBounds([[48.747585,2.309014],[48.748185,2.309614]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Les Rabats</td>
<td style="background-color:#08FF00";> (node similaire à 0%) - distance 5 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.314316&right=2.314916&top=48.745912&bottom=48.745312&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Les Rabats&select=node2328545009" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.314316&right=2.314916&top=48.745912&bottom=48.745312" onclick="map.fitBounds([[48.745312,2.314316],[48.745912,2.314916]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Pascal</td>
<td style="background-color:#37FF00";>Pascal (node similaire à 100%) - distance 23 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.317185&right=2.317785&top=48.743323&bottom=48.742723" onclick="map.fitBounds([[48.742723,2.317185],[48.743323,2.317785]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Fribouli</td>
<td style="background-color:#85FF00";>Fribouli (node similaire à 100%) - distance 53 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.32148&right=2.32208&top=48.740187&bottom=48.739587" onclick="map.fitBounds([[48.739587,2.32148],[48.740187,2.32208]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Poste</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.734944&lon=2.324105&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Poste" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.323805&right=2.324405&top=48.735244&bottom=48.734644" onclick="map.fitBounds([[48.734644,2.323805],[48.735244,2.324405]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0A00";>Mairie de Wissous</td>
<td style="background-color:#FFF900";>Docteur Ténine (node similaire à 3%) - distance 102 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.325885&right=2.326485&top=48.731685&bottom=48.731085&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie de Wissous&select=node4332591376" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.325885&right=2.326485&top=48.731685&bottom=48.731085" onclick="map.fitBounds([[48.731085,2.325885],[48.731685,2.326485]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Cucheron</td>
<td style="background-color:#00FF00";> (node similaire à 0%) - distance 2 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.334567&right=2.335167&top=48.734004&bottom=48.733404&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Cucheron&select=node2354020422" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.334567&right=2.335167&top=48.734004&bottom=48.733404" onclick="map.fitBounds([[48.733404,2.334567],[48.734004,2.335167]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Victor Baloche</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.727151&lon=2.323319&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Victor Baloche" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.323019&right=2.323619&top=48.727451&bottom=48.726851" onclick="map.fitBounds([[48.726851,2.323019],[48.727451,2.323619]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Montavas</td>
<td style="background-color:#61FF00";>Montavas (node similaire à 100%) - distance 39 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.316471&right=2.317071&top=48.72603&bottom=48.72543" onclick="map.fitBounds([[48.72543,2.316471],[48.72603,2.317071]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Vieille Remise</td>
<td style="background-color:#1BFF00";>Vieille Remise (node similaire à 100%) - distance 12 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.309656&right=2.310256&top=48.716698&bottom=48.716098" onclick="map.fitBounds([[48.716098,2.309656],[48.716698,2.310256]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Cimetiere de Chilly-Mazarin</td>
<td style="background-color:#3AFF00";> (node similaire à 0%) - distance 24 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.31076&right=2.31136&top=48.707728&bottom=48.707128&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Cimetiere de Chilly-Mazarin&select=node2287857827" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.31076&right=2.31136&top=48.707728&bottom=48.707128" onclick="map.fitBounds([[48.707128,2.31076],[48.707728,2.31136]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>College de Chilly-Mazarin</td>
<td style="background-color:#32FF00";> (node similaire à 0%) - distance 21 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.313613&right=2.314213&top=48.705994&bottom=48.705394&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=College de Chilly-Mazarin&select=node2287857788" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.313613&right=2.314213&top=48.705994&bottom=48.705394" onclick="map.fitBounds([[48.705394,2.313613],[48.705994,2.314213]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Beauregard</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.704247&lon=2.316793&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Beauregard" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.316493&right=2.317093&top=48.704547&bottom=48.703947" onclick="map.fitBounds([[48.703947,2.316493],[48.704547,2.317093]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#78FF00";>Place de la Liberation</td>
<td style="background-color:#51FF00";>Place de la Libération (node similaire à 76%) - distance 33 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.320038&right=2.320638&top=48.702858&bottom=48.702258" onclick="map.fitBounds([[48.702258,2.320038],[48.702858,2.320638]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>L'Avenir</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.70041&lon=2.32596&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=L'Avenir" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.32566&right=2.32626&top=48.70071&bottom=48.70011" onclick="map.fitBounds([[48.70011,2.32566],[48.70071,2.32626]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Pierre Loti</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.702136&lon=2.328078&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Pierre Loti" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.327778&right=2.328378&top=48.702436&bottom=48.701836" onclick="map.fitBounds([[48.701836,2.327778],[48.702436,2.328378]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Pierre Brossolette</td>
<td style="background-color:#B1FF00";> (node similaire à 0%) - distance 70 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.329992&right=2.330592&top=48.70427&bottom=48.70367&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Pierre Brossolette&select=node2617968142" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.329992&right=2.330592&top=48.70427&bottom=48.70367" onclick="map.fitBounds([[48.70367,2.329992],[48.70427,2.330592]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gabriel Fontaine</td>
<td style="background-color:#06FF00";> (node similaire à 0%) - distance 4 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.328511&right=2.329111&top=48.706985&bottom=48.706385&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gabriel Fontaine&select=node4379471810" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.328511&right=2.329111&top=48.706985&bottom=48.706385" onclick="map.fitBounds([[48.706385,2.328511],[48.706985,2.329111]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Place Lucien Boilleau</td>
<td style="background-color:#18FF00";>Place Lucien Boilleau (node similaire à 100%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.33522&right=2.33582&top=48.705861&bottom=48.705261" onclick="map.fitBounds([[48.705261,2.33522],[48.705861,2.33582]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mairie de Morangis</td>
<td style="background-color:#10FF00";>Mairie de Morangis (node similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.332871&right=2.333471&top=48.706481&bottom=48.705881" onclick="map.fitBounds([[48.705881,2.332871],[48.706481,2.333471]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Square - Condorcet</td>
<td style="background-color:#10FF00";>Square Condorcet (node similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.32752&right=2.32812&top=48.707299&bottom=48.706699" onclick="map.fitBounds([[48.706699,2.32752],[48.707299,2.32812]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#78FF00";>Place de la Liberation.</td>
<td style="background-color:#ACFF00";>Place de la Libération (node similaire à 76%) - distance 68 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.319889&right=2.320489&top=48.702525&bottom=48.701925" onclick="map.fitBounds([[48.701925,2.319889],[48.702525,2.320489]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Division Leclerc</td>
<td style="background-color:#3AFF00";>Division Leclerc (node similaire à 100%) - distance 24 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.31587&right=2.31647&top=48.700026&bottom=48.699426" onclick="map.fitBounds([[48.699426,2.31587],[48.700026,2.31647]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Elisee Reclus</td>
<td style="background-color:#03FF00";> (node similaire à 0%) - distance 3 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.312259&right=2.312859&top=48.696879&bottom=48.696279&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Elisee Reclus&select=node2278118667" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.312259&right=2.312859&top=48.696879&bottom=48.696279" onclick="map.fitBounds([[48.696279,2.312259],[48.696879,2.312859]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Grand Jardin</td>
<td style="background-color:#10FF00";> (node similaire à 0%) - distance 8 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.310468&right=2.311068&top=48.694785&bottom=48.694185&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Grand Jardin&select=node2278118646" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.310468&right=2.311068&top=48.694785&bottom=48.694185" onclick="map.fitBounds([[48.694185,2.310468],[48.694785,2.311068]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Saint-Eloi</td>
<td style="background-color:#51FF00";> (node similaire à 0%) - distance 33 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.307657&right=2.308257&top=48.695701&bottom=48.695101&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Saint-Eloi&select=node2278118659" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.307657&right=2.308257&top=48.695701&bottom=48.695101" onclick="map.fitBounds([[48.695101,2.307657],[48.695701,2.308257]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Chilly-Mazarin RER</td>
<td style="background-color:#FFAE00";> (node similaire à 0%) - distance 131 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.306731&right=2.307331&top=48.699889&bottom=48.699289&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Chilly-Mazarin RER&select=node2365185998" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.306731&right=2.307331&top=48.699889&bottom=48.699289" onclick="map.fitBounds([[48.699289,2.306731],[48.699889,2.307331]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Rue de Chilly</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.699652&lon=2.304723&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Rue de Chilly" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.304423&right=2.305023&top=48.699952&bottom=48.699352" onclick="map.fitBounds([[48.699352,2.304423],[48.699952,2.305023]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFCA00";>General de Gaulle</td>
<td style="background-color:#B4FF00";>Charles De Gaulle (node similaire à 40%) - distance 71 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.298599&right=2.299199&top=48.697595&bottom=48.696995" onclick="map.fitBounds([[48.696995,2.298599],[48.697595,2.299199]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#A2FF00";>Leontine Sohier</td>
<td style="background-color:#1DFF00";>Léontine Sohier (node similaire à 68%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.297216&right=2.297816&top=48.694457&bottom=48.693857" onclick="map.fitBounds([[48.693857,2.297216],[48.694457,2.297816]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Coteaux</td>
<td style="background-color:#2FFF00";>Les Coteaux (node similaire à 100%) - distance 20 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.292874&right=2.293474&top=48.691211&bottom=48.690611" onclick="map.fitBounds([[48.690611,2.292874],[48.691211,2.293474]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#78FF00";>Hopital de Longjumeau</td>
<td style="background-color:#2AFF00";>Hôpital de Longjumeau (node similaire à 76%) - distance 18 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.290036&right=2.290636&top=48.692262&bottom=48.691662" onclick="map.fitBounds([[48.691662,2.290036],[48.692262,2.290636]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Canal de l'Yvette</td>
<td style="background-color:#47FF00";>Canal de l'Yvette (node similaire à 100%) - distance 29 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.289244&right=2.289844&top=48.696558&bottom=48.695958" onclick="map.fitBounds([[48.695958,2.289244],[48.696558,2.289844]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Place Charles Steber</td>
<td style="background-color:#08FF00";> (node similaire à 0%) - distance 5 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.292543&right=2.293143&top=48.69762&bottom=48.69702&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Place Charles Steber&select=node1383713692" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.292543&right=2.293143&top=48.69762&bottom=48.69702" onclick="map.fitBounds([[48.69702,2.292543],[48.69762,2.293143]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div>
<div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.325499,48.82246],[2.325323,48.818173],[2.325651,48.813464],[2.326264,48.809069],[2.32534,48.805743],[2.323545,48.801042],[2.322919,48.799514],[2.32141,48.795757],[2.320622,48.793699],[2.319127,48.789573],[2.317074,48.785969],[2.314818,48.782715],[2.313364,48.779335],[2.31346,48.777079],[2.313108,48.774472],[2.311478,48.770337],[2.309713,48.765978],[2.308368,48.7624],[2.307595,48.760369],[2.306671,48.75813],[2.301467,48.755343],[2.30427,48.750436],[2.309314,48.747885],[2.314616,48.745612],[2.317485,48.743023],[2.32178,48.739887],[2.324105,48.734944],[2.326185,48.731385],[2.334867,48.733704],[2.323319,48.727151],[2.316771,48.72573],[2.309956,48.716398],[2.31106,48.707428],[2.313913,48.705694],[2.316793,48.704247],[2.320338,48.702558],[2.32596,48.70041],[2.328078,48.702136],[2.330292,48.70397],[2.328811,48.706685],[2.33552,48.705561],[2.333171,48.706181],[2.32782,48.706999],[2.320189,48.702225],[2.31617,48.699726],[2.312559,48.696579],[2.310768,48.694485],[2.307957,48.695401],[2.307031,48.699589],[2.304723,48.699652],[2.298899,48.697295],[2.297516,48.694157],[2.293174,48.690911],[2.290336,48.691962],[2.289544,48.696258],[2.292843,48.69732]]},
	{"type":"Point","coordinates":[2.325499,48.82246]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 

var myStyle = {
    "color": "#ff7800",
    "weight": 5,
    "opacity": 0.65
};

var nodes = [];
var legs;
var loadurl="http://localhost:8111/load_object?referrers=true&objects=";


function get_itin() {
var geojsonLayer = new L.GeoJSON.AJAX("http://router.project-osrm.org/match/v1/driving/2.325499,48.82246;2.325323,48.818173;2.325651,48.813464;2.326264,48.809069;2.32534,48.805743;2.323545,48.801042;2.322919,48.799514;2.32141,48.795757;2.320622,48.793699;2.319127,48.789573;2.317074,48.785969;2.314818,48.782715;2.313364,48.779335;2.31346,48.777079;2.313108,48.774472;2.311478,48.770337;2.309713,48.765978;2.308368,48.7624;2.307595,48.760369;2.306671,48.75813;2.301467,48.755343;2.30427,48.750436;2.309314,48.747885;2.314616,48.745612;2.317485,48.743023;2.32178,48.739887;2.324105,48.734944;2.326185,48.731385;2.334867,48.733704;2.323319,48.727151;2.316771,48.72573;2.309956,48.716398;2.31106,48.707428;2.313913,48.705694;2.316793,48.704247;2.320338,48.702558;2.32596,48.70041;2.328078,48.702136;2.330292,48.70397;2.328811,48.706685;2.33552,48.705561;2.333171,48.706181;2.32782,48.706999;2.320189,48.702225;2.31617,48.699726;2.312559,48.696579;2.310768,48.694485;2.307957,48.695401;2.307031,48.699589;2.304723,48.699652;2.298899,48.697295;2.297516,48.694157;2.293174,48.690911;2.290336,48.691962;2.289544,48.696258;2.292843,48.69732?timestamps=1487197500;1487197620;1487197680;1487197740;1487197800;1487197920;1487197920;1487197980;1487198040;1487198100;1487198160;1487198280;1487198340;1487198340;1487198400;1487198460;1487198580;1487198640;1487198640;1487198700;1487198820;1487199000;1487199060;1487199120;1487199180;1487199240;1487199360;1487199420;1487199480;1487199660;1487199840;1487199960;1487200080;1487200080;1487200140;1487200140;1487200200;1487200260;1487200320;1487200380;1487200500;1487200560;1487200620;1487200740;1487200800;1487200860;1487200920;1487200920;1487201040;1487201100;1487201160;1487201220;1487201400;1487201460;1487201520;1487201580&radiuses=20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20;20&overview=full&geometries=geojson&generate_hints=false&annotations=true",{
	style:myStyle,
	middleware:function(data){
legs = data.matchings[0].legs;
for(var i in legs) {
nodes.push(legs[i].annotation.nodes);
}

for(i=0; i < nodes.length; i++){
for(j=0; j < nodes[i].length; j++) {
	loadurl += "n" + nodes[i][j] + ",";
}
}

document.getElementById("load_josm").innerHTML = '<a href="'+loadurl+'" target="hide">Load JOSM</a>';

		return data.matchings[0].geometry;
	}
});

geojsonLayer.addTo(map);
};



map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
