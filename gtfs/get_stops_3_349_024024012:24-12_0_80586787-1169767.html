<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_349.html">349</a>
 - <a href="get_trips_3_349_024024012:24-12_0.html">024024012:24-12 0</a>
 80586787-1169767
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%2024-12%20%3A%20Place%20Adeline%20%E2%86%92%20Centre%20Commercial%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Place%20Adeline%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Centre%20Commercial%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%2224-12%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22Trans%27Essonne%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23000000%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 24-12 : Place Adeline → Centre Commercial</td></tr>
<tr><td>from:Place Adeline</td></tr>
<tr><td>to:Centre Commercial</td></tr>
<tr><td>network:Trans'Essonne</td></tr>
<tr><td>ref:24-12</td></tr>
<tr><td>colour:#000000</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#00FF00";>Centre Commercial</td>
<td style="background-color:#03FF00";>Centre Commercial (similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,446353&right=2,446953&top=48,585251&bottom=48,584651" onclick="map.fitBounds([[48,584651,2,446353],[48,585251,2,446953]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Martinière</td>
<td style="background-color:#06FF00";> (similaire à 0%) - distance 4 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,412304&right=2,412904&top=48,575551&bottom=48,574951&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Martinière&select=node1147859253" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,412304&right=2,412904&top=48,575551&bottom=48,574951" onclick="map.fitBounds([[48,574951,2,412304],[48,575551,2,412904]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Château</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.573033&lon=2.408212&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Château" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,407912&right=2,408512&top=48,573333&bottom=48,572733" onclick="map.fitBounds([[48,572733,2,407912],[48,573333,2,408512]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mennecy Gare Sncf</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.570876&lon=2.433444&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mennecy Gare Sncf" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,433144&right=2,433744&top=48,571176&bottom=48,570576" onclick="map.fitBounds([[48,570576,2,433144],[48,571176,2,433744]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Chatries</td>
<td style="background-color:#0BFF00";>Les Chatries (similaire à 100%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,426364&right=2,426964&top=48,566929&bottom=48,566329" onclick="map.fitBounds([[48,566329,2,426364],[48,566929,2,426964]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Gendarmerie</td>
<td style="background-color:#00FF00";>Gendarmerie (similaire à 100%) - distance 1 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,428797&right=2,429397&top=48,564221&bottom=48,563621" onclick="map.fitBounds([[48,563621,2,428797],[48,564221,2,429397]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Stade</td>
<td style="background-color:#0EFF00";> (similaire à 0%) - distance 7 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,408748&right=2,409348&top=48,551443&bottom=48,550843&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Stade&select=node2675026379" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,408748&right=2,409348&top=48,551443&bottom=48,550843" onclick="map.fitBounds([[48,550843,2,408748],[48,551443,2,409348]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Ruelle</td>
<td style="background-color:#13FF00";> (similaire à 0%) - distance 9 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,40402&right=2,40462&top=48,549316&bottom=48,548716&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Ruelle&select=node2675026335" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,40402&right=2,40462&top=48,549316&bottom=48,548716" onclick="map.fitBounds([[48,548716,2,40402],[48,549316,2,40462]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFDF00";>Fontenay Centre</td>
<td style="background-color:#6BFF00";>Centre (similaire à 44%) - distance 43 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,39806&right=2,39866&top=48,546982&bottom=48,546382" onclick="map.fitBounds([[48,546382,2,39806],[48,546982,2,39866]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF7700";>Ballancourt Gare</td>
<td style="background-color:#13FF00";>Gare RER (similaire à 24%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,371107&right=2,371707&top=48,532331&bottom=48,531731" onclick="map.fitBounds([[48,531731,2,371107],[48,532331,2,371707]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Les Merles</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.524617&lon=2.388969&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Les Merles" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,388669&right=2,389269&top=48,524917&bottom=48,524317" onclick="map.fitBounds([[48,524317,2,388669],[48,524917,2,389269]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Hôpital Georges Clemenceau</td>
<td style="background-color:#42FF00";> (similaire à 0%) - distance 27 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,431973&right=2,432573&top=48,523406&bottom=48,522806&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Hôpital Georges Clemenceau&select=node3148167260" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,431973&right=2,432573&top=48,523406&bottom=48,522806" onclick="map.fitBounds([[48,522806,2,431973],[48,523406,2,432573]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mairie</td>
<td style="background-color:#15FF00";> (similaire à 0%) - distance 10 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,444164&right=2,444764&top=48,516015&bottom=48,515415&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie&select=node2473359903" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,444164&right=2,444764&top=48,516015&bottom=48,515415" onclick="map.fitBounds([[48,515415,2,444164],[48,516015,2,444764]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Bigotte</td>
<td style="background-color:#08FF00";> (similaire à 0%) - distance 5 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,450816&right=2,451416&top=48,513536&bottom=48,512936&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Bigotte&select=node2473359899" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,450816&right=2,451416&top=48,513536&bottom=48,512936" onclick="map.fitBounds([[48,512936,2,450816],[48,513536,2,451416]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Ime</td>
<td style="background-color:#0EFF00";> (similaire à 0%) - distance 7 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,459648&right=2,460248&top=48,511882&bottom=48,511282&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Ime&select=node2473359893" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,459648&right=2,460248&top=48,511882&bottom=48,511282" onclick="map.fitBounds([[48,511282,2,459648],[48,511882,2,460248]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#88FF00";>Louteville Pavillons</td>
<td style="background-color:#03FF00";>Loutteville (Pavillon) (similaire à 73%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,466989&right=2,467589&top=48,50942&bottom=48,50882" onclick="map.fitBounds([[48,50882,2,466989],[48,50942,2,467589]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Place Adeline</td>
<td style="background-color:#28FF00";>École de Beauvais (similaire à 0%) - distance 17 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,46689&right=2,46749&top=48,497158&bottom=48,496558&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Place Adeline&select=node2473359814" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,46689&right=2,46749&top=48,497158&bottom=48,496558" onclick="map.fitBounds([[48,496558,2,46689],[48,497158,2,46749]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.46719,48.496858],[2.467289,48.50912],[2.459948,48.511582],[2.451116,48.513236],[2.444464,48.515715],[2.432273,48.523106],[2.388969,48.524617],[2.371407,48.532031],[2.39836,48.546682],[2.40432,48.549016],[2.409048,48.551143],[2.429097,48.563921],[2.426664,48.566629],[2.433444,48.570876],[2.408212,48.573033],[2.412604,48.575251],[2.446653,48.584951]]},
	{"type":"Point","coordinates":[2.46719,48.496858]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
