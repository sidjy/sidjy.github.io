<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_35.html">35</a>
 - <a href="get_trips_3_35_070070001:7001_0.html">070070001:7001 0</a>
 75807253-11310
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%207001%20%3A%20Rue%20Degas%20%E2%86%92%20Lyc%C3%A9e%20Parc%20des%20Loges%201%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Rue%20Degas%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Lyc%C3%A9e%20Parc%20des%20Loges%201%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%227001%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22CARS%20SOEUR%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%238066FF%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 7001 : Rue Degas → Lycée Parc des Loges 1</td></tr>
<tr><td>from:Rue Degas</td></tr>
<tr><td>to:Lycée Parc des Loges 1</td></tr>
<tr><td>network:CARS SOEUR</td></tr>
<tr><td>ref:7001</td></tr>
<tr><td>colour:#8066FF</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Lycée Parc des Loges 1</td>
<td style="background-color:#44FF00";> (similaire à 0%) - distance 28 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,424976&right=2,425576&top=48,635203&bottom=48,634603&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Lycée Parc des Loges 1&select=node2284015171" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,424976&right=2,425576&top=48,635203&bottom=48,634603" onclick="map.fitBounds([[48,634603,2,424976],[48,635203,2,425576]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Les Miroirs</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.630478&lon=2.428713&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Les Miroirs" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,428413&right=2,429013&top=48,630778&bottom=48,630178" onclick="map.fitBounds([[48,630178,2,428413],[48,630778,2,429013]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Agora</td>
<td style="background-color:#B7FF00";>Agora (similaire à 100%) - distance 72 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,428234&right=2,428834&top=48,628828&bottom=48,628228" onclick="map.fitBounds([[48,628228,2,428234],[48,628828,2,428834]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFFF00";>Gare Evry Courcouronnes</td>
<td style="background-color:#2DFF00";>Évry Courcouronnes Centre (similaire à 50%) - distance 19 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,427889&right=2,428489&top=48,625412&bottom=48,624812" onclick="map.fitBounds([[48,624812,2,427889],[48,625412,2,428489]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Agora</td>
<td style="background-color:#B7FF00";>Agora (similaire à 100%) - distance 72 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,428234&right=2,428834&top=48,628828&bottom=48,628228" onclick="map.fitBounds([[48,628228,2,428234],[48,628828,2,428834]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Les Miroirs</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.630478&lon=2.428713&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Les Miroirs" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,428413&right=2,429013&top=48,630778&bottom=48,630178" onclick="map.fitBounds([[48,630178,2,428413],[48,630778,2,429013]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Préfecture</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.628511&lon=2.437429&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Préfecture" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,437129&right=2,437729&top=48,628811&bottom=48,628211" onclick="map.fitBounds([[48,628211,2,437129],[48,628811,2,437729]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Aguado</td>
<td style="background-color:#9FFF00";>Aguado (similaire à 100%) - distance 63 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,442165&right=2,442765&top=48,631234&bottom=48,630634" onclick="map.fitBounds([[48,630634,2,442165],[48,631234,2,442765]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>St Exupéry</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.629259&lon=2.446299&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=St Exupéry" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,445999&right=2,446599&top=48,629559&bottom=48,628959" onclick="map.fitBounds([[48,628959,2,445999],[48,629559,2,446599]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Pasteur</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.626443&lon=2.44845&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Pasteur" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,44815&right=2,44875&top=48,626743&bottom=48,626143" onclick="map.fitBounds([[48,626143,2,44815],[48,626743,2,44875]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Rond Point Hôpital</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.622301&lon=2.455247&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Rond Point Hôpital" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,454947&right=2,455547&top=48,622601&bottom=48,622001" onclick="map.fitBounds([[48,622001,2,454947],[48,622601,2,455547]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Chaufferie</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.617256&lon=2.465878&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Chaufferie" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,465578&right=2,466178&top=48,617556&bottom=48,616956" onclick="map.fitBounds([[48,616956,2,465578],[48,617556,2,466178]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gustave Courbet</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.61629&lon=2.469577&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gustave Courbet" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,469277&right=2,469877&top=48,61659&bottom=48,61599" onclick="map.fitBounds([[48,61599,2,469277],[48,61659,2,469877]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Cimetière</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.615998&lon=2.473915&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Cimetière" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,473615&right=2,474215&top=48,616298&bottom=48,615698" onclick="map.fitBounds([[48,615698,2,473615],[48,616298,2,474215]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF5300";>Gare Sncf</td>
<td style="background-color:#28FF00";>Corbeil Essonne-Gare RER (similaire à 17%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,473813&right=2,474413&top=48,61432&bottom=48,61372" onclick="map.fitBounds([[48,61372,2,473813],[48,61432,2,474413]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>République</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.614355&lon=2.47955&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=République" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,47925&right=2,47985&top=48,614655&bottom=48,614055" onclick="map.fitBounds([[48,614055,2,47925],[48,614655,2,47985]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>St Léonard</td>
<td style="background-color:#5CFF00";> (similaire à 0%) - distance 37 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,48554&right=2,48614&top=48,614665&bottom=48,614065&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=St Léonard&select=node2240228026" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,48554&right=2,48614&top=48,614665&bottom=48,614065" onclick="map.fitBounds([[48,614065,2,48554],[48,614665,2,48614]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Château</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.618728&lon=2.483684&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Château" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,483384&right=2,483984&top=48,619028&bottom=48,618428" onclick="map.fitBounds([[48,618428,2,483384],[48,619028,2,483984]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Rochefort</td>
<td style="background-color:#51FF00";>Rochefort (similaire à 100%) - distance 33 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,489592&right=2,490192&top=48,618471&bottom=48,617871" onclick="map.fitBounds([[48,617871,2,489592],[48,618471,2,490192]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Vieux Marché</td>
<td style="background-color:#3AFF00";>Vieux Marché (similaire à 100%) - distance 24 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,490425&right=2,491025&top=48,616187&bottom=48,615587" onclick="map.fitBounds([[48,615587,2,490425],[48,616187,2,491025]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFEF00";>Mairie</td>
<td style="background-color:#13FF00";>Mairie Pasteur (similaire à 47%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,494131&right=2,494731&top=48,61336&bottom=48,61276" onclick="map.fitBounds([[48,61276,2,494131],[48,61336,2,494731]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mairie Pasteur</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.61182&lon=2.493967&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie Pasteur" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,493667&right=2,494267&top=48,61212&bottom=48,61152" onclick="map.fitBounds([[48,61152,2,493667],[48,61212,2,494267]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Centre Commercial/Centre Ville</td>
<td style="background-color:#A2FF00";> (similaire à 0%) - distance 64 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,490925&right=2,491525&top=48,620178&bottom=48,619578&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Centre Commercial/Centre Ville&select=node2240228067" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,490925&right=2,491525&top=48,620178&bottom=48,619578" onclick="map.fitBounds([[48,619578,2,490925],[48,620178,2,491525]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Champ Clair</td>
<td style="background-color:#8DFF00";> (similaire à 0%) - distance 56 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,496168&right=2,496768&top=48,618705&bottom=48,618105&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Champ Clair&select=node2240228051" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,496168&right=2,496768&top=48,618705&bottom=48,618105" onclick="map.fitBounds([[48,618105,2,496168],[48,618705,2,496768]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Pré st Germain</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.620778&lon=2.496977&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Pré st Germain" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,496677&right=2,497277&top=48,621078&bottom=48,620478" onclick="map.fitBounds([[48,620478,2,496677],[48,621078,2,497277]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Prés Hauts</td>
<td style="background-color:#32FF00";>Les Prés Hauts (similaire à 100%) - distance 21 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,499086&right=2,499686&top=48,624158&bottom=48,623558" onclick="map.fitBounds([[48,623558,2,499086],[48,624158,2,499686]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Puget</td>
<td style="background-color:#28FF00";>Puget (similaire à 100%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,501969&right=2,502569&top=48,62259&bottom=48,62199" onclick="map.fitBounds([[48,62199,2,501969],[48,62259,2,502569]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Place Rodin</td>
<td style="background-color:#25FF00";>Place Rodin (similaire à 100%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,501285&right=2,501885&top=48,620703&bottom=48,620103" onclick="map.fitBounds([[48,620103,2,501285],[48,620703,2,501885]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Rue Degas</td>
<td style="background-color:#4CFF00";>Rue Degas (similaire à 100%) - distance 31 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,501145&right=2,501745&top=48,619148&bottom=48,618548" onclick="map.fitBounds([[48,618548,2,501145],[48,619148,2,501745]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.501445,48.618848],[2.501585,48.620403],[2.502269,48.62229],[2.499386,48.623858],[2.496977,48.620778],[2.496468,48.618405],[2.491225,48.619878],[2.493967,48.61182],[2.494431,48.61306],[2.490725,48.615887],[2.489892,48.618171],[2.483684,48.618728],[2.48584,48.614365],[2.47955,48.614355],[2.474113,48.61402],[2.473915,48.615998],[2.469577,48.61629],[2.465878,48.617256],[2.455247,48.622301],[2.44845,48.626443],[2.446299,48.629259],[2.442465,48.630934],[2.437429,48.628511],[2.428713,48.630478],[2.428534,48.628528],[2.428189,48.625112],[2.428534,48.628528],[2.428713,48.630478],[2.425276,48.634903]]},
	{"type":"Point","coordinates":[2.501445,48.618848]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
