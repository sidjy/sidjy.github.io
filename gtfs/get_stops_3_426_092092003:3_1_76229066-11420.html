<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_426.html">426</a>
 - <a href="get_trips_3_426_092092003:3_1.html">092092003:3 1</a>
 76229066-11420
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%203%20%3A%20Rer%20%E2%86%92%20Tourelles%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Rer%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Tourelles%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%223%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22TVS%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23000000%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 3 : Rer → Tourelles</td></tr>
<tr><td>from:Rer</td></tr>
<tr><td>to:Tourelles</td></tr>
<tr><td>network:TVS</td></tr>
<tr><td>ref:3</td></tr>
<tr><td>colour:#000000</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Tourelles</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.101992&lon=1.451184&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Tourelles" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,450884&right=1,451484&top=49,102292&bottom=49,101692" onclick="map.fitBounds([[49,101692,1,450884],[49,102292,1,451484]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Rn15-rue des Près</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.105532&lon=1.457091&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Rn15-rue des Près" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,456791&right=1,457391&top=49,105832&bottom=49,105232" onclick="map.fitBounds([[49,105232,1,456791],[49,105832,1,457391]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gendarmerie</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.10197&lon=1.467813&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gendarmerie" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,467513&right=1,468113&top=49,10227&bottom=49,10167" onclick="map.fitBounds([[49,10167,1,467513],[49,10227,1,468113]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Grosse Borne</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.10062&lon=1.471188&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Grosse Borne" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,470888&right=1,471488&top=49,10092&bottom=49,10032" onclick="map.fitBounds([[49,10032,1,470888],[49,10092,1,471488]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>République</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.090516&lon=1.484425&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=République" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,484125&right=1,484725&top=49,090816&bottom=49,090216" onclick="map.fitBounds([[49,090216,1,484125],[49,090816,1,484725]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Ardèche</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.088137&lon=1.480961&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Ardèche" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,480661&right=1,481261&top=49,088437&bottom=49,087837" onclick="map.fitBounds([[49,087837,1,480661],[49,088437,1,481261]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Boutardes</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.077808&lon=1.493061&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Boutardes" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,492761&right=1,493361&top=49,078108&bottom=49,077508" onclick="map.fitBounds([[49,077508,1,492761],[49,078108,1,493361]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Bourdines</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.078082&lon=1.498788&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Bourdines" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,498488&right=1,499088&top=49,078382&bottom=49,077782" onclick="map.fitBounds([[49,077782,1,498488],[49,078382,1,499088]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Petit val</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.07515&lon=1.511365&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Petit val" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,511065&right=1,511665&top=49,07545&bottom=49,07485" onclick="map.fitBounds([[49,07485,1,511065],[49,07545,1,511665]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Port Villez Grand val</td>
<td style="background-color:#61FF00";>Port Villez Grand Val (similaire à 100%) - distance 39 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,511747&right=1,512347&top=49,074753&bottom=49,074153" onclick="map.fitBounds([[49,074153,1,511747],[49,074753,1,512347]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mairie</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.061562&lon=1.523083&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,522783&right=1,523383&top=49,061862&bottom=49,061262" onclick="map.fitBounds([[49,061262,1,522783],[49,061862,1,523383]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Eglise</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.037164&lon=1.54177&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Eglise" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,54147&right=1,54207&top=49,037464&bottom=49,036864" onclick="map.fitBounds([[49,036864,1,54147],[49,037464,1,54207]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Bois Cahué</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.033002&lon=1.563619&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Bois Cahué" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,563319&right=1,563919&top=49,033302&bottom=49,032702" onclick="map.fitBounds([[49,032702,1,563319],[49,033302,1,563919]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Berthelot</td>
<td style="background-color:#54FF00";>Berthelot (similaire à 100%) - distance 34 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,57174&right=1,57234&top=49,035001&bottom=49,034401" onclick="map.fitBounds([[49,034401,1,57174],[49,035001,1,57234]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Deschamps</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.035196&lon=1.573482&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Deschamps" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,573182&right=1,573782&top=49,035496&bottom=49,034896" onclick="map.fitBounds([[49,034896,1,573182],[49,035496,1,573782]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Thiers</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=49.035322&lon=1.579234&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Thiers" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,578934&right=1,579534&top=49,035622&bottom=49,035022" onclick="map.fitBounds([[49,035022,1,578934],[49,035622,1,579534]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Rer</td>
<td style="background-color:#1DFF00";> (similaire à 0%) - distance 13 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,038659&right=2,039259&top=48,933508&bottom=48,932908&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Rer&select=node2469421164" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,038659&right=2,039259&top=48,933508&bottom=48,932908" onclick="map.fitBounds([[48,932908,2,038659],[48,933508,2,039259]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.038959,48.933208],[1.579234,49.035322],[1.573482,49.035196],[1.57204,49.034701],[1.563619,49.033002],[1.54177,49.037164],[1.523083,49.061562],[1.512047,49.074453],[1.511365,49.07515],[1.498788,49.078082],[1.493061,49.077808],[1.480961,49.088137],[1.484425,49.090516],[1.471188,49.10062],[1.467813,49.10197],[1.457091,49.105532],[1.451184,49.101992]]},
	{"type":"Point","coordinates":[2.038959,48.933208]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
