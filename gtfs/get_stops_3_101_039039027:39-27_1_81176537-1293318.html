<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_101.html">101</a>
 - <a href="get_trips_3_101_039039027:39-27_1.html">039039027:39-27 1</a>
 81176537-1293318
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%2039-27%20%3A%20Gare%20des%20Essarts%20le%20Roi%20%E2%86%92%20Gare%20de%20Saint-R%C3%A9my-l%C3%A8s-Chevreuse%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Gare%20des%20Essarts%20le%20Roi%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Gare%20de%20Saint-R%C3%A9my-l%C3%A8s-Chevreuse%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%2239-27%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22SAVAC%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23000000%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 39-27 : Gare des Essarts le Roi → Gare de Saint-Rémy-lès-Chevreuse</td></tr>
<tr><td>from:Gare des Essarts le Roi</td></tr>
<tr><td>to:Gare de Saint-Rémy-lès-Chevreuse</td></tr>
<tr><td>network:SAVAC</td></tr>
<tr><td>ref:39-27</td></tr>
<tr><td>colour:#000000</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Gare de Saint-Rémy-lès-Chevreuse</td>
<td style="background-color:#2FFF00";> (similaire à 0%) - distance 20 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,069555&right=2,070155&top=48,703458&bottom=48,702858&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare de Saint-Rémy-lès-Chevreuse&select=node3071524349" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,069555&right=2,070155&top=48,703458&bottom=48,702858" onclick="map.fitBounds([[48,702858,2,069555],[48,703458,2,070155]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Chemin des Regains</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.704512&lon=2.038219&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Chemin des Regains" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,037919&right=2,038519&top=48,704812&bottom=48,704212" onclick="map.fitBounds([[48,704212,2,037919],[48,704812,2,038519]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Petits Ponts</td>
<td style="background-color:#0BFF00";>Petits Ponts (similaire à 100%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,037225&right=2,037825&top=48,707336&bottom=48,706736" onclick="map.fitBounds([[48,706736,2,037225],[48,707336,2,037825]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Garage</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.706556&lon=2.036211&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Garage" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,035911&right=2,036511&top=48,706856&bottom=48,706256" onclick="map.fitBounds([[48,706256,2,035911],[48,706856,2,036511]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Cimetière</td>
<td style="background-color:#54FF00";>Cimetière (similaire à 100%) - distance 34 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,032886&right=2,033486&top=48,706264&bottom=48,705664" onclick="map.fitBounds([[48,705664,2,032886],[48,706264,2,033486]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#59FF00";>Chardonnettes</td>
<td style="background-color:#06FF00";>Les Chardonnettes (similaire à 82%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,02958&right=2,03018&top=48,704898&bottom=48,704298" onclick="map.fitBounds([[48,704298,2,02958],[48,704898,2,03018]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>les Sablons</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.703361&lon=2.014175&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=les Sablons" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,013875&right=2,014475&top=48,703661&bottom=48,703061" onclick="map.fitBounds([[48,703061,2,013875],[48,703661,2,014475]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Haute Beauce</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.706925&lon=1.996538&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Haute Beauce" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,996238&right=1,996838&top=48,707225&bottom=48,706625" onclick="map.fitBounds([[48,706625,1,996238],[48,707225,1,996838]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFCA00";>Château</td>
<td style="background-color:#20FF00";>Château de Dampierre (similaire à 40%) - distance 14 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,987821&right=1,988421&top=48,706751&bottom=48,706151" onclick="map.fitBounds([[48,706151,1,987821],[48,706751,1,988421]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Moulin des Roches</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.711333&lon=1.976516&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Moulin des Roches" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,976216&right=1,976816&top=48,711633&bottom=48,711033" onclick="map.fitBounds([[48,711033,1,976216],[48,711633,1,976816]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Maincourt</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.715216&lon=1.96459&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Maincourt" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,96429&right=1,96489&top=48,715516&bottom=48,714916" onclick="map.fitBounds([[48,714916,1,96429],[48,715516,1,96489]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mairie</td>
<td style="background-color:#78FF00";> (similaire à 0%) - distance 48 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,948189&right=1,948789&top=48,721639&bottom=48,721039&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie&select=node3422371785" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,948189&right=1,948789&top=48,721639&bottom=48,721039" onclick="map.fitBounds([[48,721039,1,948189],[48,721639,1,948789]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Yvette École</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.721997&lon=1.925009&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Yvette École" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,924709&right=1,925309&top=48,722297&bottom=48,721697" onclick="map.fitBounds([[48,721697,1,924709],[48,722297,1,925309]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>la Gripière</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.726221&lon=1.914419&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=la Gripière" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,914119&right=1,914719&top=48,726521&bottom=48,725921" onclick="map.fitBounds([[48,725921,1,914119],[48,726521,1,914719]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Malpou</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.728644&lon=1.908476&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Malpou" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,908176&right=1,908776&top=48,728944&bottom=48,728344" onclick="map.fitBounds([[48,728344,1,908176],[48,728944,1,908776]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Plateau</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.728053&lon=1.904146&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Plateau" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,903846&right=1,904446&top=48,728353&bottom=48,727753" onclick="map.fitBounds([[48,727753,1,903846],[48,728353,1,904446]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>les Charmes</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.725277&lon=1.911873&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=les Charmes" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,911573&right=1,912173&top=48,725577&bottom=48,724977" onclick="map.fitBounds([[48,724977,1,911573],[48,725577,1,912173]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Sabot d'Argent</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.721231&lon=1.911756&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Sabot d'Argent" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,911456&right=1,912056&top=48,721531&bottom=48,720931" onclick="map.fitBounds([[48,720931,1,911456],[48,721531,1,912056]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>la Source</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.720789&lon=1.90869&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=la Source" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,90839&right=1,90899&top=48,721089&bottom=48,720489" onclick="map.fitBounds([[48,720489,1,90839],[48,721089,1,90899]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Four à Briques</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.721128&lon=1.902941&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Four à Briques" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,902641&right=1,903241&top=48,721428&bottom=48,720828" onclick="map.fitBounds([[48,720828,1,902641],[48,721428,1,903241]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Collège les Molières</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.722179&lon=1.898082&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Collège les Molières" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,897782&right=1,898382&top=48,722479&bottom=48,721879" onclick="map.fitBounds([[48,721879,1,897782],[48,722479,1,898382]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Marché</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.71908&lon=1.893748&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Marché" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,893448&right=1,894048&top=48,71938&bottom=48,71878" onclick="map.fitBounds([[48,71878,1,893448],[48,71938,1,894048]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gare des Essarts le roi</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.722001&lon=1.891128&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare des Essarts le roi" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,890828&right=1,891428&top=48,722301&bottom=48,721701" onclick="map.fitBounds([[48,721701,1,890828],[48,722301,1,891428]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[1.891128,48.722001],[1.893748,48.71908],[1.898082,48.722179],[1.902941,48.721128],[1.90869,48.720789],[1.911756,48.721231],[1.911873,48.725277],[1.904146,48.728053],[1.908476,48.728644],[1.914419,48.726221],[1.925009,48.721997],[1.948489,48.721339],[1.96459,48.715216],[1.976516,48.711333],[1.988121,48.706451],[1.996538,48.706925],[2.014175,48.703361],[2.02988,48.704598],[2.033186,48.705964],[2.036211,48.706556],[2.037525,48.707036],[2.038219,48.704512],[2.069855,48.703158]]},
	{"type":"Point","coordinates":[1.891128,48.722001]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
