<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_407.html">407</a>
 - <a href="get_trips_3_407_055055012:DM12_1.html">055055012:DM12 1</a>
 81075505-1268130
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20DM12%20%3A%20Balizy-Gravigny%20rer%20%E2%86%92%20Gare%20rer%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Balizy-Gravigny%20rer%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Gare%20rer%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22DM12%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22TRANSPORTS%20DANIEL%20MEYER%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%230066FF%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus DM12 : Balizy-Gravigny rer → Gare rer</td></tr>
<tr><td>from:Balizy-Gravigny rer</td></tr>
<tr><td>to:Gare rer</td></tr>
<tr><td>network:TRANSPORTS DANIEL MEYER</td></tr>
<tr><td>ref:DM12</td></tr>
<tr><td>colour:#0066FF</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Balizy-Gravigny rer</td>
<td style="background-color:#2FFF00";> (similaire à 0%) - distance 20 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.317138&right=2.317738&top=48.685402&bottom=48.684802&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Balizy-Gravigny rer&select=node4546331524" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.317138&right=2.317738&top=48.685402&bottom=48.684802" onclick="map.fitBounds([[48.684802,2.317138],[48.685402,2.317738]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Balizy</td>
<td style="background-color:#44FF00";>Balizy (similaire à 100%) - distance 28 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.310325&right=2.310925&top=48.683261&bottom=48.682661" onclick="map.fitBounds([[48.682661,2.310325],[48.683261,2.310925]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Clinique de l'Yvette</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.688613&lon=2.302625&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Clinique de l'Yvette" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.302325&right=2.302925&top=48.688913&bottom=48.688313" onclick="map.fitBounds([[48.688313,2.302325],[48.688913,2.302925]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Foyer Avril</td>
<td style="background-color:#15FF00";>Foyer Avril (similaire à 100%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.297612&right=2.298212&top=48.692102&bottom=48.691502" onclick="map.fitBounds([[48.691502,2.297612],[48.692102,2.298212]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF1A00";>Les Côteaux</td>
<td style="background-color:#FDFF00";>Longjumeau–La Rocade–Lycée (similaire à 6%) - distance 99 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.295048&right=2.295648&top=48.689576&bottom=48.688976&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Les Côteaux&select=node1939447779" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.295048&right=2.295648&top=48.689576&bottom=48.688976" onclick="map.fitBounds([[48.688976,2.295048],[48.689576,2.295648]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Rocade</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.686704&lon=2.293273&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Rocade" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.292973&right=2.293573&top=48.687004&bottom=48.686404" onclick="map.fitBounds([[48.686404,2.292973],[48.687004,2.293573]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Docteur Cathelin</td>
<td style="background-color:#8DFF00";>Docteur Cathelin (similaire à 100%) - distance 56 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.28841&right=2.28901&top=48.688072&bottom=48.687472" onclick="map.fitBounds([[48.687472,2.28841],[48.688072,2.28901]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Arcades</td>
<td style="background-color:#3AFF00";>Les Arcades (similaire à 100%) - distance 24 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.288585&right=2.289185&top=48.690247&bottom=48.689647" onclick="map.fitBounds([[48.689647,2.288585],[48.690247,2.289185]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFB600";>Hôpital</td>
<td style="background-color:#2FFF00";>Hôpital de Longjumeau (similaire à 36%) - distance 20 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.289887&right=2.290487&top=48.691938&bottom=48.691338" onclick="map.fitBounds([[48.691338,2.289887],[48.691938,2.290487]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#83FF00";>Ecole d'Infirmières</td>
<td style="background-color:#3AFF00";>École d'Infirmières (similaire à 74%) - distance 24 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.287196&right=2.287796&top=48.694382&bottom=48.693782" onclick="map.fitBounds([[48.693782,2.287196],[48.694382,2.287796]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Pont Neuf</td>
<td style="background-color:#97FF00";> (similaire à 0%) - distance 60 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.28129&right=2.28189&top=48.693984&bottom=48.693384&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Pont Neuf&select=node2478666047" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.28129&right=2.28189&top=48.693984&bottom=48.693384" onclick="map.fitBounds([[48.693384,2.28129],[48.693984,2.28189]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Collège Pablo Picasso</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.68989&lon=2.279802&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Collège Pablo Picasso" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.279502&right=2.280102&top=48.69019&bottom=48.68959" onclick="map.fitBounds([[48.68959,2.279502],[48.69019,2.280102]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Louis Aragon</td>
<td style="background-color:#00FF00";>Louis Aragon (similaire à 100%) - distance 2 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.276924&right=2.277524&top=48.689451&bottom=48.688851" onclick="map.fitBounds([[48.688851,2.276924],[48.689451,2.277524]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Monthuchet</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.687739&lon=2.274972&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Monthuchet" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.274672&right=2.275272&top=48.688039&bottom=48.687439" onclick="map.fitBounds([[48.687439,2.274672],[48.688039,2.275272]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>L'Arpajonnais</td>
<td style="background-color:#78FF00";>L'Arpajonnais (similaire à 100%) - distance 48 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.270201&right=2.270801&top=48.691272&bottom=48.690672" onclick="map.fitBounds([[48.690672,2.270201],[48.691272,2.270801]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Eglise</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.693057&lon=2.269548&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Eglise" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.269248&right=2.269848&top=48.693357&bottom=48.692757" onclick="map.fitBounds([[48.692757,2.269248],[48.693357,2.269848]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mairie</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.691041&lon=2.264296&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.263996&right=2.264596&top=48.691341&bottom=48.690741" onclick="map.fitBounds([[48.690741,2.263996],[48.691341,2.264596]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Grande Fontaine</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.689754&lon=2.261963&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Grande Fontaine" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.261663&right=2.262263&top=48.690054&bottom=48.689454" onclick="map.fitBounds([[48.689454,2.261663],[48.690054,2.262263]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Pré Haut</td>
<td style="background-color:#2AFF00";>Pré Haut (similaire à 100%) - distance 18 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.257453&right=2.258053&top=48.690806&bottom=48.690206" onclick="map.fitBounds([[48.690206,2.257453],[48.690806,2.258053]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Fontaine de fer</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.691304&lon=2.255077&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Fontaine de fer" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.254777&right=2.255377&top=48.691604&bottom=48.691004" onclick="map.fitBounds([[48.691004,2.254777],[48.691604,2.255377]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Villiers le Plan</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.693411&lon=2.247199&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Villiers le Plan" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.246899&right=2.247499&top=48.693711&bottom=48.693111" onclick="map.fitBounds([[48.693111,2.246899],[48.693711,2.247499]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Bretèche cc Villebon 2</td>
<td style="background-color:#13FF00";> (similaire à 0%) - distance 9 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.25606&right=2.25666&top=48.704693&bottom=48.704093&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Bretèche cc Villebon 2&select=node3160126499" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.25606&right=2.25666&top=48.704693&bottom=48.704093" onclick="map.fitBounds([[48.704093,2.25606],[48.704693,2.25666]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gutenberg</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.708536&lon=2.256327&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gutenberg" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.256027&right=2.256627&top=48.708836&bottom=48.708236" onclick="map.fitBounds([[48.708236,2.256027],[48.708836,2.256627]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#92FF00";>Léon Blum</td>
<td style="background-color:#08FF00";>Rue Léon Blum (similaire à 71%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.256717&right=2.257317&top=48.710527&bottom=48.709927" onclick="map.fitBounds([[48.709927,2.256717],[48.710527,2.257317]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Ambroise Croizat</td>
<td style="background-color:#4CFF00";>Ambroise Croizat (similaire à 100%) - distance 31 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.256957&right=2.257557&top=48.713178&bottom=48.712578" onclick="map.fitBounds([[48.712578,2.256957],[48.713178,2.257557]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Cosmonautes / Stalingrad</td>
<td style="background-color:#1BFF00";>Cosmonautes-Stalingrad (similaire à 100%) - distance 12 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.258557&right=2.259157&top=48.714878&bottom=48.714278" onclick="map.fitBounds([[48.714278,2.258557],[48.714878,2.259157]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Cosmonautes / Flaubert</td>
<td style="background-color:#47FF00";>Cosmonautes - Flaubert (similaire à 100%) - distance 29 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.260292&right=2.260892&top=48.717441&bottom=48.716841" onclick="map.fitBounds([[48.716841,2.260292],[48.717441,2.260892]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF4E00";>Gare rer</td>
<td style="background-color:#78FF00";>Massy–Palaiseau RER (similaire à 16%) - distance 48 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.261041&right=2.261641&top=48.725666&bottom=48.725066" onclick="map.fitBounds([[48.725066,2.261041],[48.725666,2.261641]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.317438,48.685102],[2.310625,48.682961],[2.302625,48.688613],[2.297912,48.691802],[2.295348,48.689276],[2.293273,48.686704],[2.28871,48.687772],[2.288885,48.689947],[2.290187,48.691638],[2.287496,48.694082],[2.28159,48.693684],[2.279802,48.68989],[2.277224,48.689151],[2.274972,48.687739],[2.270501,48.690972],[2.269548,48.693057],[2.264296,48.691041],[2.261963,48.689754],[2.257753,48.690506],[2.255077,48.691304],[2.247199,48.693411],[2.25636,48.704393],[2.256327,48.708536],[2.257017,48.710227],[2.257257,48.712878],[2.258857,48.714578],[2.260592,48.717141],[2.261341,48.725366]]},
	{"type":"Point","coordinates":[2.317438,48.685102]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
