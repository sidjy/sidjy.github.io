<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_442.html">442</a>
 - <a href="get_trips_3_442_100100105:105_0.html">100100105:105 0</a>
 80685465-1184370
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20105%20%3A%20Porte%20des%20Lilas-Metro%20%E2%86%92%20Mairie%20des%20Pavillons-Sous-Bois%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Porte%20des%20Lilas-Metro%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Mairie%20des%20Pavillons-Sous-Bois%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22105%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22RATP%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23DE8B53%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 105 : Porte des Lilas-Metro → Mairie des Pavillons-Sous-Bois</td></tr>
<tr><td>from:Porte des Lilas-Metro</td></tr>
<tr><td>to:Mairie des Pavillons-Sous-Bois</td></tr>
<tr><td>network:RATP</td></tr>
<tr><td>ref:105</td></tr>
<tr><td>colour:#DE8B53</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#88FF00";>Porte des Lilas-Metro</td>
<td style="background-color:#20FF00";>Porte des Lilas (node similaire à 73%) - distance 14 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.407199&right=2.407799&top=48.87689&bottom=48.87629" onclick="map.fitBounds([[48.87629,2.407199],[48.87689,2.407799]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#CBFF00";>Les Bruyeres</td>
<td style="background-color:#2FFF00";>Les Bruyères (node similaire à 60%) - distance 20 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.410853&right=2.411453&top=48.878712&bottom=48.878112" onclick="map.fitBounds([[48.878112,2.410853],[48.878712,2.411453]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mairie des Lilas</td>
<td style="background-color:#03FF00";>Mairie des Lilas (node similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.416414&right=2.417014&top=48.879984&bottom=48.879384" onclick="map.fitBounds([[48.879384,2.416414],[48.879984,2.417014]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#B1FF00";>Marechal Juin</td>
<td style="background-color:#00FF00";>Maréchal Juin (node similaire à 65%) - distance 2 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.42203&right=2.42263&top=48.880789&bottom=48.880189" onclick="map.fitBounds([[48.880189,2.42203],[48.880789,2.42263]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#A7FF00";>Joseph Depinay</td>
<td style="background-color:#2DFF00";>Joseph Dépinay (node similaire à 67%) - distance 19 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.425015&right=2.425615&top=48.881245&bottom=48.880645" onclick="map.fitBounds([[48.880645,2.425015],[48.881245,2.425615]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#CBFF00";>Liberte</td>
<td style="background-color:#2AFF00";>Liberté (node similaire à 60%) - distance 18 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.429486&right=2.430086&top=48.881979&bottom=48.881379" onclick="map.fitBounds([[48.881379,2.429486],[48.881979,2.430086]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Place du 19 Mars 1962</td>
<td style="background-color:#0EFF00";>Place du 19 Mars 1962 (node similaire à 100%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.434284&right=2.434884&top=48.882892&bottom=48.882292" onclick="map.fitBounds([[48.882292,2.434284],[48.882892,2.434884]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Carnot</td>
<td style="background-color:#9DFF00";>Carnot (node similaire à 100%) - distance 62 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.439926&right=2.440526&top=48.883202&bottom=48.882602" onclick="map.fitBounds([[48.882602,2.439926],[48.883202,2.440526]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Hoche</td>
<td style="background-color:#22FF00";>Hoche (node similaire à 100%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.446965&right=2.447565&top=48.886682&bottom=48.886082" onclick="map.fitBounds([[48.886082,2.446965],[48.886682,2.447565]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF5300";>Helene</td>
<td style="background-color:#0BFF00";>Hélène (node similaire à 17%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.450567&right=2.451167&top=48.888719&bottom=48.888119" onclick="map.fitBounds([[48.888119,2.450567],[48.888719,2.451167]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Jeanne d'arc</td>
<td style="background-color:#2AFF00";>Jeanne d'Arc (node similaire à 100%) - distance 18 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.453378&right=2.453978&top=48.889939&bottom=48.889339" onclick="map.fitBounds([[48.889339,2.453378],[48.889939,2.453978]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Salengro - Auffret</td>
<td style="background-color:#32FF00";>Salengro - Auffret (node similaire à 100%) - distance 21 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.457123&right=2.457723&top=48.88883&bottom=48.88823" onclick="map.fitBounds([[48.88823,2.457123],[48.88883,2.457723]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Marceau</td>
<td style="background-color:#28FF00";>Marceau (node similaire à 100%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.459405&right=2.460005&top=48.891281&bottom=48.890681" onclick="map.fitBounds([[48.890681,2.459405],[48.891281,2.460005]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFD000";>Gambetta</td>
<td style="background-color:#15FF00";>Noisy-le-Sec Gambetta (node similaire à 41%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.460855&right=2.461455&top=48.893553&bottom=48.892953" onclick="map.fitBounds([[48.892953,2.460855],[48.893553,2.461455]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Noisy-le-sec rer</td>
<td style="background-color:#5CFF00";>Noisy-le-Sec — RER (node similaire à 100%) - distance 37 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.461011&right=2.461611&top=48.896123&bottom=48.895523" onclick="map.fitBounds([[48.895523,2.461011],[48.896123,2.461611]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Denis Papin</td>
<td style="background-color:#42FF00";>Denis Papin (node similaire à 100%) - distance 27 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.463622&right=2.464222&top=48.899104&bottom=48.898504" onclick="map.fitBounds([[48.898504,2.463622],[48.899104,2.464222]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#CBFF00";>Petit Noisy</td>
<td style="background-color:#78FF00";>Petit Noisy - Tramway (node similaire à 60%) - distance 48 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.464769&right=2.465369&top=48.900136&bottom=48.899536" onclick="map.fitBounds([[48.899536,2.464769],[48.900136,2.465369]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFEF00";>Nouvelle Piscine</td>
<td style="background-color:#15FF00";>Piscine (node similaire à 47%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.467379&right=2.467979&top=48.902506&bottom=48.901906" onclick="map.fitBounds([[48.901906,2.467379],[48.902506,2.467979]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFEA00";>Avenue de Rosny</td>
<td style="background-color:#42FF00";>Pont de Bondy - Avenue de Rosny - Tramway (node similaire à 46%) - distance 27 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.471214&right=2.471814&top=48.904227&bottom=48.903627" onclick="map.fitBounds([[48.903627,2.471214],[48.904227,2.471814]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Lycees Pagnol - Renoir</td>
<td style="background-color:#32FF00";>Bondy Gambetta (node similaire à 0%) - distance 21 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.473491&right=2.474091&top=48.90436&bottom=48.90376&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Lycees Pagnol - Renoir&select=node1260774044" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.473491&right=2.474091&top=48.90436&bottom=48.90376" onclick="map.fitBounds([[48.90376,2.473491],[48.90436,2.474091]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#A2FF00";>Eglise de Bondy</td>
<td style="background-color:#35FF00";>Église de Bondy (node similaire à 68%) - distance 22 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.479078&right=2.479678&top=48.903535&bottom=48.902935" onclick="map.fitBounds([[48.902935,2.479078],[48.903535,2.479678]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#C6FF00";>Cimetiere - Hotel de Ville</td>
<td style="background-color:#22FF00";>Cimetière - Hôtel de Ville (node similaire à 61%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.483382&right=2.483982&top=48.902236&bottom=48.901636" onclick="map.fitBounds([[48.901636,2.483382],[48.902236,2.483982]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Pierre Brossolette</td>
<td style="background-color:#1DFF00";>Pierre Brossolette (node similaire à 100%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.487784&right=2.488384&top=48.901799&bottom=48.901199" onclick="map.fitBounds([[48.901199,2.487784],[48.901799,2.488384]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Professeur Vaillant</td>
<td style="background-color:#37FF00";>Professeur Vaillant (node similaire à 100%) - distance 23 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.491026&right=2.491626&top=48.900734&bottom=48.900134" onclick="map.fitBounds([[48.900134,2.491026],[48.900734,2.491626]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Marcel Sembat</td>
<td style="background-color:#59FF00";>Marcel Sembat (node similaire à 100%) - distance 36 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.495549&right=2.496149&top=48.899938&bottom=48.899338" onclick="map.fitBounds([[48.899338,2.495549],[48.899938,2.496149]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Albert Thomas</td>
<td style="background-color:#03FF00";>Albert Thomas (node similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.500755&right=2.501355&top=48.899634&bottom=48.899034" onclick="map.fitBounds([[48.899034,2.500755],[48.899634,2.501355]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Brackley</td>
<td style="background-color:#03FF00";>Brackley (node similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.504887&right=2.505487&top=48.899961&bottom=48.899361" onclick="map.fitBounds([[48.899361,2.504887],[48.899961,2.505487]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mairie des Pavillons-Sous-Bois</td>
<td style="background-color:#4CFF00";>Mairie des Pavillons-sous-Bois (node similaire à 100%) - distance 31 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.507526&right=2.508126&top=48.902563&bottom=48.901963" onclick="map.fitBounds([[48.901963,2.507526],[48.902563,2.508126]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.407499,48.87659],[2.411153,48.878412],[2.416714,48.879684],[2.42233,48.880489],[2.425315,48.880945],[2.429786,48.881679],[2.434584,48.882592],[2.440226,48.882902],[2.447265,48.886382],[2.450867,48.888419],[2.453678,48.889639],[2.457423,48.88853],[2.459705,48.890981],[2.461155,48.893253],[2.461311,48.895823],[2.463922,48.898804],[2.465069,48.899836],[2.467679,48.902206],[2.471514,48.903927],[2.473791,48.90406],[2.479378,48.903235],[2.483682,48.901936],[2.488084,48.901499],[2.491326,48.900434],[2.495849,48.899638],[2.501055,48.899334],[2.505187,48.899661],[2.507826,48.902263]]},
	{"type":"Point","coordinates":[2.407499,48.87659]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
