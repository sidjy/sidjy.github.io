<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_442.html">442</a>
 - <a href="get_trips_3_442_100100137:137_1.html">100100137:137 1</a>
 79909145-194757
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20137%20%3A%20Zone%20Industrielle%20Nord%20%E2%86%92%20Porte%20de%20Clignancourt%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Zone%20Industrielle%20Nord%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Porte%20de%20Clignancourt%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22137%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22RATP%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23DE8B53%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 137 : Zone Industrielle Nord → Porte de Clignancourt</td></tr>
<tr><td>from:Zone Industrielle Nord</td></tr>
<tr><td>to:Porte de Clignancourt</td></tr>
<tr><td>network:RATP</td></tr>
<tr><td>ref:137</td></tr>
<tr><td>colour:#DE8B53</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#00FF00";>Zone Industrielle Nord</td>
<td style="background-color:#18FF00";>Zone Industrielle Nord (similaire à 100%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.31741&right=2.31801&top=48.943054&bottom=48.942454" onclick="map.fitBounds([[48.942454,2.31741],[48.943054,2.31801]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#92FF00";>Parc Departemental</td>
<td style="background-color:#2AFF00";>Parc Départemental (similaire à 71%) - distance 18 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.321462&right=2.322062&top=48.941536&bottom=48.940936" onclick="map.fitBounds([[48.940936,2.321462],[48.941536,2.322062]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Piscine</td>
<td style="background-color:#20FF00";>Piscine (similaire à 100%) - distance 14 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.324627&right=2.325227&top=48.942183&bottom=48.941583" onclick="map.fitBounds([[48.941583,2.324627],[48.942183,2.325227]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF8700";>Place Paul Herbe</td>
<td style="background-color:#15FF00";>Place P. Herbé - Collège G. Pompidou (similaire à 27%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.32696&right=2.32756&top=48.940746&bottom=48.940146" onclick="map.fitBounds([[48.940146,2.32696],[48.940746,2.32756]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Jean Moulin</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.940437&lon=2.330657&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Jean Moulin" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.330357&right=2.330957&top=48.940737&bottom=48.940137" onclick="map.fitBounds([[48.940137,2.330357],[48.940737,2.330957]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mathilde Milliard</td>
<td style="background-color:#6BFF00";>Mathilde Milliard (similaire à 100%) - distance 43 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.332199&right=2.332799&top=48.938957&bottom=48.938357" onclick="map.fitBounds([[48.938357,2.332199],[48.938957,2.332799]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mairie de Villeneuve-la-Garenne</td>
<td style="background-color:#25FF00";>Mairie de Villeneuve-la-Garenne (similaire à 100%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.333277&right=2.333877&top=48.936351&bottom=48.935751" onclick="map.fitBounds([[48.935751,2.333277],[48.936351,2.333877]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#59FF00";>Mairie de Villeneuve-la-Garenne-Gallieni</td>
<td style="background-color:#49FF00";>Mairie de Villeneuve-la-Garenne (similaire à 82%) - distance 30 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.332486&right=2.333086&top=48.93539&bottom=48.93479" onclick="map.fitBounds([[48.93479,2.332486],[48.93539,2.333086]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#69FF00";>Boulevard Gallieni-Ecoles</td>
<td style="background-color:#1DFF00";>Boulevard Gallieni - Écoles (similaire à 79%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.33205&right=2.33265&top=48.932658&bottom=48.932058" onclick="map.fitBounds([[48.932058,2.33205],[48.932658,2.33265]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Maurice Ravel</td>
<td style="background-color:#18FF00";>Maurice Ravel (similaire à 100%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.331627&right=2.332227&top=48.930303&bottom=48.929703" onclick="map.fitBounds([[48.929703,2.331627],[48.930303,2.332227]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF9C00";>Lycee Petiet - c.Commercial</td>
<td style="background-color:#2FFF00";>Lycée Charles Petiet (similaire à 31%) - distance 20 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.329786&right=2.330386&top=48.927616&bottom=48.927016" onclick="map.fitBounds([[48.927016,2.329786],[48.927616,2.330386]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Bongarde</td>
<td style="background-color:#47FF00";>Bongarde (similaire à 100%) - distance 29 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.325436&right=2.326036&top=48.925558&bottom=48.924958" onclick="map.fitBounds([[48.924958,2.325436],[48.925558,2.326036]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Quatre Chemins</td>
<td style="background-color:#28FF00";>Quatre Chemins (similaire à 100%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.32129&right=2.32189&top=48.9234&bottom=48.9228" onclick="map.fitBounds([[48.9228,2.32129],[48.9234,2.32189]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Quai des Gresillons</td>
<td style="background-color:#0BFF00";>Quai des Gresillons (similaire à 100%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.323964&right=2.324564&top=48.921909&bottom=48.921309" onclick="map.fitBounds([[48.921309,2.323964],[48.921909,2.324564]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Boulevard Marcel Paul</td>
<td style="background-color:#35FF00";>Boulevard Marcel Paul (similaire à 100%) - distance 22 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.327291&right=2.327891&top=48.919671&bottom=48.919071" onclick="map.fitBounds([[48.919071,2.327291],[48.919671,2.327891]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Quai de Seine</td>
<td style="background-color:#6EFF00";>Quai de Seine (similaire à 100%) - distance 44 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.331314&right=2.331914&top=48.917892&bottom=48.917292" onclick="map.fitBounds([[48.917292,2.331314],[48.917892,2.331914]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Soubise</td>
<td style="background-color:#2DFF00";>Soubise (similaire à 100%) - distance 19 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.331192&right=2.331792&top=48.915232&bottom=48.914632" onclick="map.fitBounds([[48.914632,2.331192],[48.915232,2.331792]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mairie de Saint-Ouen</td>
<td style="background-color:#3FFF00";>Mairie de Saint-Ouen (similaire à 100%) - distance 26 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.333224&right=2.333824&top=48.912482&bottom=48.911882" onclick="map.fitBounds([[48.911882,2.333224],[48.912482,2.333824]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Ernest Renan</td>
<td style="background-color:#25FF00";>Ernest Renan (similaire à 100%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.332079&right=2.332679&top=48.908312&bottom=48.907712" onclick="map.fitBounds([[48.907712,2.332079],[48.908312,2.332679]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Garibaldi</td>
<td style="background-color:#15FF00";>Garibaldi (similaire à 100%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.331847&right=2.332447&top=48.906353&bottom=48.905753" onclick="map.fitBounds([[48.905753,2.331847],[48.906353,2.332447]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Kleber</td>
<td style="background-color:#0BFF00";>Kleber (similaire à 100%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.333565&right=2.334165&top=48.903423&bottom=48.902823" onclick="map.fitBounds([[48.902823,2.333565],[48.903423,2.334165]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#97FF00";>Gerard de Nerval</td>
<td style="background-color:#03FF00";>Gérard de Nerval (similaire à 70%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.334915&right=2.335515&top=48.901023&bottom=48.900423" onclick="map.fitBounds([[48.900423,2.334915],[48.901023,2.335515]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Porte de Montmartre - Boulevard ney</td>
<td style="background-color:#13FF00";>Porte de Montmartre - Boulevard Ney (similaire à 100%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.336687&right=2.337287&top=48.898336&bottom=48.897736" onclick="map.fitBounds([[48.897736,2.336687],[48.898336,2.337287]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Camille Flammarion</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.897731&lon=2.338855&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Camille Flammarion" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.338555&right=2.339155&top=48.898031&bottom=48.897431" onclick="map.fitBounds([[48.897431,2.338555],[48.898031,2.339155]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Porte de Clignancourt</td>
<td style="background-color:#CEFF00";>Porte de Clignancourt (similaire à 100%) - distance 81 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.343707&right=2.344307&top=48.89892&bottom=48.89832" onclick="map.fitBounds([[48.89832,2.343707],[48.89892,2.344307]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.31771,48.942754],[2.321762,48.941236],[2.324927,48.941883],[2.32726,48.940446],[2.330657,48.940437],[2.332499,48.938657],[2.333577,48.936051],[2.332786,48.93509],[2.33235,48.932358],[2.331927,48.930003],[2.330086,48.927316],[2.325736,48.925258],[2.32159,48.9231],[2.324264,48.921609],[2.327591,48.919371],[2.331614,48.917592],[2.331492,48.914932],[2.333524,48.912182],[2.332379,48.908012],[2.332147,48.906053],[2.333865,48.903123],[2.335215,48.900723],[2.336987,48.898036],[2.338855,48.897731],[2.344007,48.89862]]},
	{"type":"Point","coordinates":[2.31771,48.942754]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
