<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_442.html">442</a>
 - <a href="get_trips_3_442_100100157:157_0.html">100100157:157 0</a>
 80119804-1112754
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20157%20%3A%20Pont%20de%20Neuilly-Metro%20%E2%86%92%20Boulevard%20de%20la%20Seine%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Pont%20de%20Neuilly-Metro%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Boulevard%20de%20la%20Seine%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22157%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22RATP%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23BB4D98%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 157 : Pont de Neuilly-Metro → Boulevard de la Seine</td></tr>
<tr><td>from:Pont de Neuilly-Metro</td></tr>
<tr><td>to:Boulevard de la Seine</td></tr>
<tr><td>network:RATP</td></tr>
<tr><td>ref:157</td></tr>
<tr><td>colour:#BB4D98</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#00FF00";>Boulevard de la Seine</td>
<td style="background-color:#6EFF00";>Boulevard de la Seine (similaire à 100%) - distance 44 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,193096&right=2,193696&top=48,903607&bottom=48,903007" onclick="map.fitBounds([[48,903007,2,193096],[48,903607,2,193696]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Lannes</td>
<td style="background-color:#35FF00";>Lannes (similaire à 100%) - distance 22 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,193972&right=2,194572&top=48,902385&bottom=48,901785" onclick="map.fitBounds([[48,901785,2,193972],[48,902385,2,194572]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Voltaire</td>
<td style="background-color:#06FF00";>Voltaire (similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,1947&right=2,1953&top=48,900355&bottom=48,899755" onclick="map.fitBounds([[48,899755,2,1947],[48,900355,2,1953]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#F5FF00";>General Leclerc</td>
<td style="background-color:#08FF00";>Général Leclerc (similaire à 52%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,195566&right=2,196166&top=48,897804&bottom=48,897204" onclick="map.fitBounds([[48,897204,2,195566],[48,897804,2,196166]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#69FF00";>Nanterre - Ville rer</td>
<td style="background-color:#6BFF00";>Nanterre Ville (similaire à 79%) - distance 43 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,194917&right=2,195517&top=48,895961&bottom=48,895361" onclick="map.fitBounds([[48,895361,2,194917],[48,895961,2,195517]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Maurice Thorez</td>
<td style="background-color:#08FF00";>Maurice Thorez (similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,195357&right=2,195957&top=48,894505&bottom=48,893905" onclick="map.fitBounds([[48,893905,2,195357],[48,894505,2,195957]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Rue des Anciennes Mairies</td>
<td style="background-color:#4FFF00";>Rue des Anciennes Mairies (similaire à 100%) - distance 32 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,197786&right=2,198386&top=48,893304&bottom=48,892704" onclick="map.fitBounds([[48,892704,2,197786],[48,893304,2,198386]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Plainchamp</td>
<td style="background-color:#03FF00";>Plainchamp (similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,199301&right=2,199901&top=48,892407&bottom=48,891807" onclick="map.fitBounds([[48,891807,2,199301],[48,892407,2,199901]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#DBFF00";>Les Venets</td>
<td style="background-color:#13FF00";>Les Venêts (similaire à 57%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,203192&right=2,203792&top=48,890128&bottom=48,889528" onclick="map.fitBounds([[48,889528,2,203192],[48,890128,2,203792]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#73FF00";>Sadi Carnot - Joliot Curie</td>
<td style="background-color:#35FF00";>Sadi Carnot - Juliot Curie (similaire à 77%) - distance 22 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,205089&right=2,205689&top=48,888935&bottom=48,888335" onclick="map.fitBounds([[48,888335,2,205089],[48,888935,2,205689]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#78FF00";>Clemenceau - Sadi Carnot</td>
<td style="background-color:#0EFF00";>Clémenceau - Sadi Carnot (similaire à 76%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,208269&right=2,208869&top=48,887258&bottom=48,886658" onclick="map.fitBounds([[48,886658,2,208269],[48,887258,2,208869]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Alouettes</td>
<td style="background-color:#03FF00";>Les Alouettes (similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,213439&right=2,214039&top=48,884918&bottom=48,884318" onclick="map.fitBounds([[48,884318,2,213439],[48,884918,2,214039]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Verdun</td>
<td style="background-color:#42FF00";>Verdun (similaire à 100%) - distance 27 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,216564&right=2,217164&top=48,883321&bottom=48,882721" onclick="map.fitBounds([[48,882721,2,216564],[48,883321,2,217164]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#63FF00";>Liberte - Plaideurs</td>
<td style="background-color:#1BFF00";>Liberté – Plaideurs (similaire à 80%) - distance 12 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,218478&right=2,219078&top=48,880492&bottom=48,879892" onclick="map.fitBounds([[48,879892,2,218478],[48,880492,2,219078]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#B1FF00";>Les Parechaux</td>
<td style="background-color:#85FF00";>Les Paréchaux (similaire à 65%) - distance 53 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,221559&right=2,222159&top=48,87965&bottom=48,87905" onclick="map.fitBounds([[48,87905,2,221559],[48,87965,2,222159]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#88FF00";>Lycee Paul Langevin</td>
<td style="background-color:#03FF00";>Lycée Paul Langevin (similaire à 73%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,223374&right=2,223974&top=48,878538&bottom=48,877938" onclick="map.fitBounds([[48,877938,2,223374],[48,878538,2,223974]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Capitaine Ferber</td>
<td style="background-color:#28FF00";>Capitaine Ferber (similaire à 100%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,226642&right=2,227242&top=48,87944&bottom=48,87884" onclick="map.fitBounds([[48,87884,2,226642],[48,87944,2,227242]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Victor Hugo</td>
<td style="background-color:#25FF00";>Victor Hugo (similaire à 100%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,230919&right=2,231519&top=48,880333&bottom=48,879733" onclick="map.fitBounds([[48,879733,2,230919],[48,880333,2,231519]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Gare de Puteaux</td>
<td style="background-color:#06FF00";>Gare de Puteaux (similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,234635&right=2,235235&top=48,882583&bottom=48,881983" onclick="map.fitBounds([[48,881983,2,234635],[48,882583,2,235235]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#6EFF00";>Wallace - Eugene Eichenberger</td>
<td style="background-color:#2DFF00";>Wallace - Eichenberger (similaire à 78%) - distance 19 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,236408&right=2,237008&top=48,88174&bottom=48,88114" onclick="map.fitBounds([[48,88114,2,236408],[48,88174,2,237008]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#E5FF00";>Wallace - Jean Jaures</td>
<td style="background-color:#2AFF00";>Wallace - Jaurès (similaire à 55%) - distance 18 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,23814&right=2,23874&top=48,880906&bottom=48,880306" onclick="map.fitBounds([[48,880306,2,23814],[48,880906,2,23874]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Hopital - Pont de Puteaux</td>
<td style="background-color:#2DFF00";> (similaire à 0%) - distance 19 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,241945&right=2,242545&top=48,879075&bottom=48,878475&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Hopital - Pont de Puteaux&select=node2042255465" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,241945&right=2,242545&top=48,879075&bottom=48,878475" onclick="map.fitBounds([[48,878475,2,241945],[48,879075,2,242545]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Godefroy</td>
<td style="background-color:#51FF00";> (similaire à 0%) - distance 33 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,243973&right=2,244573&top=48,880398&bottom=48,879798&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Godefroy&select=node2368960699" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,243973&right=2,244573&top=48,880398&bottom=48,879798" onclick="map.fitBounds([[48,879798,2,243973],[48,880398,2,244573]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Square Leon Blum</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.881825&lon=2.246478&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Square Leon Blum" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,246178&right=2,246778&top=48,882125&bottom=48,881525" onclick="map.fitBounds([[48,881525,2,246178],[48,882125,2,246778]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Soljenitsyne</td>
<td style="background-color:#61FF00";>Soljenitsyne (similaire à 100%) - distance 39 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,248178&right=2,248778&top=48,883628&bottom=48,883028" onclick="map.fitBounds([[48,883028,2,248178],[48,883628,2,248778]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Bellini</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.884965&lon=2.250451&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Bellini" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,250151&right=2,250751&top=48,885265&bottom=48,884665" onclick="map.fitBounds([[48,884665,2,250151],[48,885265,2,250751]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Rd 7 - Pont de Neuilly</td>
<td style="background-color:#42FF00";>RD 7 - Pont de Neuilly (similaire à 100%) - distance 27 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,25192&right=2,25252&top=48,887459&bottom=48,886859" onclick="map.fitBounds([[48,886859,2,25192],[48,887459,2,25252]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Pont de Neuilly - Rive Gauche</td>
<td style="background-color:#C6FF00";>Pont de Neuilly - Rive Gauche (similaire à 100%) - distance 78 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,253228&right=2,253828&top=48,887496&bottom=48,886896" onclick="map.fitBounds([[48,886896,2,253228],[48,887496,2,253828]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#88FF00";>Pont de Neuilly-Metro</td>
<td style="background-color:#5CFF00";>Pont de Neuilly (similaire à 73%) - distance 37 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,259472&right=2,260072&top=48,885613&bottom=48,885013" onclick="map.fitBounds([[48,885013,2,259472],[48,885613,2,260072]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.259772,48.885313],[2.253528,48.887196],[2.25222,48.887159],[2.250451,48.884965],[2.248478,48.883328],[2.246478,48.881825],[2.244273,48.880098],[2.242245,48.878775],[2.23844,48.880606],[2.236708,48.88144],[2.234935,48.882283],[2.231219,48.880033],[2.226942,48.87914],[2.223674,48.878238],[2.221859,48.87935],[2.218778,48.880192],[2.216864,48.883021],[2.213739,48.884618],[2.208569,48.886958],[2.205389,48.888635],[2.203492,48.889828],[2.199601,48.892107],[2.198086,48.893004],[2.195657,48.894205],[2.195217,48.895661],[2.195866,48.897504],[2.195,48.900055],[2.194272,48.902085],[2.193396,48.903307]]},
	{"type":"Point","coordinates":[2.259772,48.885313]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
