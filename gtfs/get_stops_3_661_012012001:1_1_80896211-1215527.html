<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_661.html">661</a>
 - <a href="get_trips_3_661_012012001:1_1.html">012012001:1 1</a>
 80896211-1215527
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%201%20%3A%20Gare%20Rive%20Gauche%20rer%20c%20%E2%86%92%20Lyc%C3%A9e%20International%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Gare%20Rive%20Gauche%20rer%20c%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Lyc%C3%A9e%20International%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%221%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22Transdev%20Ile-de-France%20Montesson%20Les%20Rabaux%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%231AC7FF%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 1 : Gare Rive Gauche rer c → Lycée International</td></tr>
<tr><td>from:Gare Rive Gauche rer c</td></tr>
<tr><td>to:Lycée International</td></tr>
<tr><td>network:Transdev Ile-de-France Montesson Les Rabaux</td></tr>
<tr><td>ref:1</td></tr>
<tr><td>colour:#1AC7FF</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FFC500";>Gare Rive Gauche rer c</td>
<td style="background-color:#08FF00";>Versailles Rive Gauche (similaire à 39%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.127735&right=2.128335&top=48.800513&bottom=48.799913" onclick="map.fitBounds([[48.799913,2.127735],[48.800513,2.128335]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFB600";>Château</td>
<td style="background-color:#25FF00";>Château de Versailles (similaire à 36%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.127397&right=2.127997&top=48.803415&bottom=48.802815" onclick="map.fitBounds([[48.802815,2.127397],[48.803415,2.127997]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Place Hoche</td>
<td style="background-color:#4FFF00";>Place Hoche (similaire à 100%) - distance 32 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.126199&right=2.126799&top=48.806774&bottom=48.806174" onclick="map.fitBounds([[48.806174,2.126199],[48.806774,2.126799]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Réservoirs</td>
<td style="background-color:#03FF00";>Réservoirs (similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.125073&right=2.125673&top=48.809433&bottom=48.808833" onclick="map.fitBounds([[48.808833,2.125073],[48.809433,2.125673]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Berthier</td>
<td style="background-color:#28FF00";>Berthier (similaire à 100%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.126722&right=2.127322&top=48.812159&bottom=48.811559" onclick="map.fitBounds([[48.811559,2.126722],[48.812159,2.127322]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Place de la loi</td>
<td style="background-color:#06FF00";>Place de la Loi (similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.128887&right=2.129487&top=48.815237&bottom=48.814637" onclick="map.fitBounds([[48.814637,2.128887],[48.815237,2.129487]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Place Simart</td>
<td style="background-color:#18FF00";> (similaire à 0%) - distance 11 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.126488&right=2.127088&top=48.819394&bottom=48.818794&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Place Simart&select=node1801602885" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.126488&right=2.127088&top=48.819394&bottom=48.818794" onclick="map.fitBounds([[48.818794,2.126488],[48.819394,2.127088]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Jasmin</td>
<td style="background-color:#00FF00";>Jasmin (similaire à 100%) - distance 2 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.122146&right=2.122746&top=48.826073&bottom=48.825473" onclick="map.fitBounds([[48.825473,2.122146],[48.826073,2.122746]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFF900";>Centre Commercial</td>
<td style="background-color:#1BFF00";>Le Chesnay Centre Commercial Parly 2 (similaire à 49%) - distance 12 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.117643&right=2.118243&top=48.828824&bottom=48.828224" onclick="map.fitBounds([[48.828224,2.117643],[48.828824,2.118243]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>La Muette</td>
<td style="background-color:#03FF00";>La Muette (similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.11635&right=2.11695&top=48.832021&bottom=48.831421" onclick="map.fitBounds([[48.831421,2.11635],[48.832021,2.11695]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Passy</td>
<td style="background-color:#18FF00";>Passy (similaire à 100%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.118275&right=2.118875&top=48.83384&bottom=48.83324" onclick="map.fitBounds([[48.83324,2.118275],[48.83384,2.118875]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Louis Pelin</td>
<td style="background-color:#10FF00";>Louis Pelin (similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.120037&right=2.120637&top=48.835677&bottom=48.835077" onclick="map.fitBounds([[48.835077,2.120037],[48.835677,2.120637]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Les 3 Fontaines</td>
<td style="background-color:#18FF00";> (similaire à 0%) - distance 11 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.112011&right=2.112611&top=48.837352&bottom=48.836752&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Les 3 Fontaines&select=node1454338749" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.112011&right=2.112611&top=48.837352&bottom=48.836752" onclick="map.fitBounds([[48.836752,2.112011],[48.837352,2.112611]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Villevert</td>
<td style="background-color:#1DFF00";>Villevert (similaire à 100%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.109177&right=2.109777&top=48.847233&bottom=48.846633" onclick="map.fitBounds([[48.846633,2.109177],[48.847233,2.109777]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Grille Royale</td>
<td style="background-color:#2DFF00";>Grille Royale (similaire à 100%) - distance 19 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.107081&right=2.107681&top=48.8561&bottom=48.8555" onclick="map.fitBounds([[48.8555,2.107081],[48.8561,2.107681]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Village</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.862907&lon=2.111191&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Village" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.110891&right=2.111491&top=48.863207&bottom=48.862607" onclick="map.fitBounds([[48.862607,2.110891],[48.863207,2.111491]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Voisins</td>
<td style="background-color:#08FF00";>Voisins (similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.112743&right=2.113343&top=48.866554&bottom=48.865954" onclick="map.fitBounds([[48.865954,2.112743],[48.866554,2.113343]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Plains Champs</td>
<td style="background-color:#20FF00";>Plains Champs (similaire à 100%) - distance 14 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.109882&right=2.110482&top=48.872678&bottom=48.872078" onclick="map.fitBounds([[48.872078,2.109882],[48.872678,2.110482]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Bèque Sncf</td>
<td style="background-color:#15FF00";> (similaire à 0%) - distance 10 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.097623&right=2.098223&top=48.872034&bottom=48.871434&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Bèque Sncf&select=node4375517972" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.097623&right=2.098223&top=48.872034&bottom=48.871434" onclick="map.fitBounds([[48.871434,2.097623],[48.872034,2.098223]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Pins Clos Courché</td>
<td style="background-color:#06FF00";>Les Pins-Clos Courché (similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.094002&right=2.094602&top=48.874453&bottom=48.873853" onclick="map.fitBounds([[48.873853,2.094002],[48.874453,2.094602]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Jean Witold</td>
<td style="background-color:#15FF00";>Jean Witold (similaire à 100%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.095247&right=2.095847&top=48.876226&bottom=48.875626" onclick="map.fitBounds([[48.875626,2.095247],[48.876226,2.095847]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#97FF00";>Ramon st Thibault</td>
<td style="background-color:#4FFF00";>Ramon Saint-Thibault (similaire à 70%) - distance 32 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.097038&right=2.097638&top=48.877749&bottom=48.877149" onclick="map.fitBounds([[48.877149,2.097038],[48.877749,2.097638]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#E5FF00";>Le Verger st-Exupery</td>
<td style="background-color:#32FF00";>Le Verger Saint-Exupéry (similaire à 55%) - distance 21 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.100805&right=2.101405&top=48.87941&bottom=48.87881" onclick="map.fitBounds([[48.87881,2.100805],[48.87941,2.101405]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Square de Versailles</td>
<td style="background-color:#83FF00";>Square de Versailles (similaire à 100%) - distance 52 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.104533&right=2.105133&top=48.880612&bottom=48.880012" onclick="map.fitBounds([[48.880012,2.104533],[48.880612,2.105133]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#5EFF00";>Square de Monte Cristo</td>
<td style="background-color:#06FF00";>Square de Monte-Christo (similaire à 81%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.102773&right=2.103373&top=48.884168&bottom=48.883568" onclick="map.fitBounds([[48.883568,2.102773],[48.884168,2.103373]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Lampes</td>
<td style="background-color:#1BFF00";>Les Lampes (similaire à 100%) - distance 12 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.100127&right=2.100727&top=48.88472&bottom=48.88412" onclick="map.fitBounds([[48.88412,2.100127],[48.88472,2.100727]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Nicot</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.89465&lon=2.075873&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Nicot" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.075573&right=2.076173&top=48.89495&bottom=48.89435" onclick="map.fitBounds([[48.89435,2.075573],[48.89495,2.076173]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Lycée International</td>
<td style="background-color:#56FF00";>Village d'Hennemont (similaire à 0%) - distance 35 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.061992&right=2.062592&top=48.898496&bottom=48.897896&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Lycée International&select=node2714477032" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.061992&right=2.062592&top=48.898496&bottom=48.897896" onclick="map.fitBounds([[48.897896,2.061992],[48.898496,2.062592]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.128035,48.800213],[2.127697,48.803115],[2.126499,48.806474],[2.125373,48.809133],[2.127022,48.811859],[2.129187,48.814937],[2.126788,48.819094],[2.122446,48.825773],[2.117943,48.828524],[2.11665,48.831721],[2.118575,48.83354],[2.120337,48.835377],[2.112311,48.837052],[2.109477,48.846933],[2.107381,48.8558],[2.111191,48.862907],[2.113043,48.866254],[2.110182,48.872378],[2.097923,48.871734],[2.094302,48.874153],[2.095547,48.875926],[2.097338,48.877449],[2.101105,48.87911],[2.104833,48.880312],[2.103073,48.883868],[2.100427,48.88442],[2.075873,48.89465],[2.062292,48.898196]]},
	{"type":"Point","coordinates":[2.128035,48.800213]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
