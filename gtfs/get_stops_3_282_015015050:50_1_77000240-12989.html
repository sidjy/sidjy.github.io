<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_282.html">282</a>
 - <a href="get_trips_3_282_015015050:50_1.html">015015050:50 1</a>
 77000240-12989
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%2050%20%3A%20Maison%20Blanche%20%E2%86%92%20Saint-Exupery%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Maison%20Blanche%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Saint-Exupery%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%2250%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22CSO%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%235EC5ED%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 50 : Maison Blanche → Saint-Exupery</td></tr>
<tr><td>from:Maison Blanche</td></tr>
<tr><td>to:Saint-Exupery</td></tr>
<tr><td>network:CSO</td></tr>
<tr><td>ref:50</td></tr>
<tr><td>colour:#5EC5ED</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Saint-Exupery</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.939451&lon=2.060313&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Saint-Exupery" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,060013&right=2,060613&top=48,939751&bottom=48,939151" onclick="map.fitBounds([[48,939151,2,060013],[48,939751,2,060613]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF2E00";>Rue du Stade</td>
<td style="background-color:#A2FF00";>Avenue de Pontoise (similaire à 10%) - distance 64 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,055209&right=2,055809&top=48,937682&bottom=48,937082" onclick="map.fitBounds([[48,937082,2,055209],[48,937682,2,055809]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Avenue de Pontoise</td>
<td style="background-color:#51FF00";>Jean Bouin (similaire à 0%) - distance 33 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,055651&right=2,056251&top=48,93665&bottom=48,93605&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Avenue de Pontoise&select=node3354456031" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,055651&right=2,056251&top=48,93665&bottom=48,93605" onclick="map.fitBounds([[48,93605,2,055651],[48,93665,2,056251]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#E5FF00";>Boulevard Robespierre</td>
<td style="background-color:#08FF00";>Robespierre (similaire à 55%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,056643&right=2,057243&top=48,934882&bottom=48,934282" onclick="map.fitBounds([[48,934282,2,056643],[48,934882,2,057243]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Square Diez</td>
<td style="background-color:#2DFF00";>Square Diez (similaire à 100%) - distance 19 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,051247&right=2,051847&top=48,933728&bottom=48,933128" onclick="map.fitBounds([[48,933128,2,051247],[48,933728,2,051847]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Laurence Caroline</td>
<td style="background-color:#0BFF00";>Laurence Caroline (similaire à 100%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,047301&right=2,047901&top=48,932082&bottom=48,931482" onclick="map.fitBounds([[48,931482,2,047301],[48,932082,2,047901]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gare sud</td>
<td style="background-color:#15FF00";> (similaire à 0%) - distance 10 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,041754&right=2,042354&top=48,933597&bottom=48,932997&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare sud&select=node2604522869" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,041754&right=2,042354&top=48,933597&bottom=48,932997" onclick="map.fitBounds([[48,932997,2,041754],[48,933597,2,042354]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gare sud</td>
<td style="background-color:#5EFF00";> (similaire à 0%) - distance 38 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,042043&right=2,042643&top=48,933274&bottom=48,932674&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare sud&select=node2604522869" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,042043&right=2,042643&top=48,933274&bottom=48,932674" onclick="map.fitBounds([[48,932674,2,042043],[48,933274,2,042643]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Rue au Pain</td>
<td style="background-color:#10FF00";>Rue au Pain (similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,039042&right=2,039642&top=48,930804&bottom=48,930204" onclick="map.fitBounds([[48,930204,2,039042],[48,930804,2,039642]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Le cep</td>
<td style="background-color:#2FFF00";>Le Cep (similaire à 100%) - distance 20 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,041001&right=2,041601&top=48,929371&bottom=48,928771" onclick="map.fitBounds([[48,928771,2,041001],[48,929371,2,041601]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Cimetière</td>
<td style="background-color:#1DFF00";>Cimetière (similaire à 100%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,03991&right=2,04051&top=48,926969&bottom=48,926369" onclick="map.fitBounds([[48,926369,2,03991],[48,926969,2,04051]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Notre-Dame</td>
<td style="background-color:#25FF00";>Notre-Dame (similaire à 100%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,037266&right=2,037866&top=48,926585&bottom=48,925985" onclick="map.fitBounds([[48,925985,2,037266],[48,926585,2,037866]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Blanche de Castille</td>
<td style="background-color:#06FF00";>Blanche de Castille (similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,033058&right=2,033658&top=48,925513&bottom=48,924913" onclick="map.fitBounds([[48,924913,2,033058],[48,925513,2,033658]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Villa Savoye</td>
<td style="background-color:#49FF00";>Villa Savoye (similaire à 100%) - distance 30 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,029763&right=2,030363&top=48,924678&bottom=48,924078" onclick="map.fitBounds([[48,924078,2,029763],[48,924678,2,030363]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Rhin - Danube</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.922197&lon=2.027662&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Rhin - Danube" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,027362&right=2,027962&top=48,922497&bottom=48,921897" onclick="map.fitBounds([[48,921897,2,027362],[48,922497,2,027962]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Montaigne</td>
<td style="background-color:#5EFF00";>La Part Dieu (similaire à 0%) - distance 38 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,024444&right=2,025044&top=48,922427&bottom=48,921827&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Montaigne&select=node4332559411" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,024444&right=2,025044&top=48,922427&bottom=48,921827" onclick="map.fitBounds([[48,921827,2,024444],[48,922427,2,025044]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Champ Gaillard</td>
<td style="background-color:#49FF00";>Champ Gaillard (similaire à 100%) - distance 30 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,02157&right=2,02217&top=48,921781&bottom=48,921181" onclick="map.fitBounds([[48,921181,2,02157],[48,921781,2,02217]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>La Coudraie</td>
<td style="background-color:#13FF00";>La Coudraie (similaire à 100%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,013338&right=2,013938&top=48,918838&bottom=48,918238" onclick="map.fitBounds([[48,918238,2,013338],[48,918838,2,013938]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#C1FF00";>Novotel</td>
<td style="background-color:#0BFF00";>Novotel D113 (similaire à 62%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,99466&right=1,99526&top=48,924394&bottom=48,923794" onclick="map.fitBounds([[48,923794,1,99466],[48,924394,1,99526]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Art de Vivre</td>
<td style="background-color:#73FF00";> (similaire à 0%) - distance 46 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,991311&right=1,991911&top=48,925535&bottom=48,924935&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Art de Vivre&select=node768171701" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,991311&right=1,991911&top=48,925535&bottom=48,924935" onclick="map.fitBounds([[48,924935,1,991311],[48,925535,1,991911]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Conforama</td>
<td style="background-color:#ACFF00";> (similaire à 0%) - distance 68 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,987061&right=1,987661&top=48,926852&bottom=48,926252&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Conforama&select=node768171381" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,987061&right=1,987661&top=48,926852&bottom=48,926252" onclick="map.fitBounds([[48,926252,1,987061],[48,926852,1,987661]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Pasteur cd 113</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.927834&lon=1.983192&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Pasteur cd 113" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,982892&right=1,983492&top=48,928134&bottom=48,927534" onclick="map.fitBounds([[48,927534,1,982892],[48,928134,1,983492]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mdi</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.928974&lon=1.979584&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mdi" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,979284&right=1,979884&top=48,929274&bottom=48,928674" onclick="map.fitBounds([[48,928674,1,979284],[48,929274,1,979884]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Maison Blanche</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.930736&lon=1.973843&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Maison Blanche" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=1,973543&right=1,974143&top=48,931036&bottom=48,930436" onclick="map.fitBounds([[48,930436,1,973543],[48,931036,1,974143]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[1.973843,48.930736],[1.979584,48.928974],[1.983192,48.927834],[1.987361,48.926552],[1.991611,48.925235],[1.99496,48.924094],[2.013638,48.918538],[2.02187,48.921481],[2.024744,48.922127],[2.027662,48.922197],[2.030063,48.924378],[2.033358,48.925213],[2.037566,48.926285],[2.04021,48.926669],[2.041301,48.929071],[2.039342,48.930504],[2.042343,48.932974],[2.042054,48.933297],[2.047601,48.931782],[2.051547,48.933428],[2.056943,48.934582],[2.055951,48.93635],[2.055509,48.937382],[2.060313,48.939451]]},
	{"type":"Point","coordinates":[1.973843,48.930736]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
