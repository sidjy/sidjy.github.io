<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_118.html">118</a>
 - <a href="get_trips_3_118_064608013:13A_1.html">064608013:13A 1</a>
 80592877-1170515
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%2013A%20%3A%20Cit%C3%A9%20Scolaire%20%E2%86%92%20Place%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Cit%C3%A9%20Scolaire%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Place%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%2213A%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22STILL%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23000000%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 13A : Cité Scolaire → Place</td></tr>
<tr><td>from:Cité Scolaire</td></tr>
<tr><td>to:Place</td></tr>
<tr><td>network:STILL</td></tr>
<tr><td>ref:13A</td></tr>
<tr><td>colour:#000000</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Place</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.216576&lon=2.606268&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Place" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,605968&right=2,606568&top=48,216876&bottom=48,216276" onclick="map.fitBounds([[48,216276,2,605968],[48,216876,2,606568]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Verteau</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.245929&lon=2.600267&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Verteau" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,599967&right=2,600567&top=48,246229&bottom=48,245629" onclick="map.fitBounds([[48,245629,2,599967],[48,246229,2,600567]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Château d'eau</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.244815&lon=2.607827&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Château d'eau" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,607527&right=2,608127&top=48,245115&bottom=48,244515" onclick="map.fitBounds([[48,244515,2,607527],[48,245115,2,608127]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Eglise Chevrainvilliers</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.24476&lon=2.613433&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Eglise Chevrainvilliers" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,613133&right=2,613733&top=48,24506&bottom=48,24446" onclick="map.fitBounds([[48,24446,2,613133],[48,24506,2,613733]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Eglise Chatenoy</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.233631&lon=2.626154&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Eglise Chatenoy" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,625854&right=2,626454&top=48,233931&bottom=48,233331" onclick="map.fitBounds([[48,233331,2,625854],[48,233931,2,626454]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Transformateur Centre</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.243199&lon=2.652579&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Transformateur Centre" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,652279&right=2,652879&top=48,243499&bottom=48,242899" onclick="map.fitBounds([[48,242899,2,652279],[48,243499,2,652879]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Vallée</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.24683&lon=2.654039&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Vallée" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,653739&right=2,654339&top=48,24713&bottom=48,24653" onclick="map.fitBounds([[48,24653,2,653739],[48,24713,2,654339]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Puiselet</td>
<td style="background-color:#0EFF00";>Puiselet (similaire à 100%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,649578&right=2,650178&top=48,264953&bottom=48,264353" onclick="map.fitBounds([[48,264353,2,649578],[48,264953,2,650178]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Le Grand Bois</td>
<td style="background-color:#47FF00";>Le Grand Bois (similaire à 100%) - distance 29 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,66408&right=2,66468&top=48,271018&bottom=48,270418" onclick="map.fitBounds([[48,270418,2,66408],[48,271018,2,66468]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mont Blanc</td>
<td style="background-color:#08FF00";>Mont Blanc (similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,672365&right=2,672965&top=48,269377&bottom=48,268777" onclick="map.fitBounds([[48,268777,2,672365],[48,269377,2,672965]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Rue Larchant</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.267992&lon=2.678018&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Rue Larchant" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,677718&right=2,678318&top=48,268292&bottom=48,267692" onclick="map.fitBounds([[48,267692,2,677718],[48,268292,2,678318]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Rue des Pyrénées</td>
<td style="background-color:#4FFF00";> (similaire à 0%) - distance 32 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,678784&right=2,679384&top=48,264494&bottom=48,263894&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Rue des Pyrénées&select=node1796119573" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,678784&right=2,679384&top=48,264494&bottom=48,263894" onclick="map.fitBounds([[48,263894,2,678784],[48,264494,2,679384]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Place de l'Europe</td>
<td style="background-color:#03FF00";> (similaire à 0%) - distance 3 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,68069&right=2,68129&top=48,2635&bottom=48,2629&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Place de l'Europe&select=node1796119245" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,68069&right=2,68129&top=48,2635&bottom=48,2629" onclick="map.fitBounds([[48,2629,2,68069],[48,2635,2,68129]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Fontaine Sèche</td>
<td style="background-color:#2FFF00";>Fontaine Sèche (similaire à 100%) - distance 20 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,685449&right=2,686049&top=48,266372&bottom=48,265772" onclick="map.fitBounds([[48,265772,2,685449],[48,266372,2,686049]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Gare Foljuif</td>
<td style="background-color:#08FF00";>Gare Foljuif (similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,68504&right=2,68564&top=48,267731&bottom=48,267131" onclick="map.fitBounds([[48,267131,2,68504],[48,267731,2,68564]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Clos Saint Jean</td>
<td style="background-color:#10FF00";>Clos Saint-Jean (similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,67739&right=2,67799&top=48,271727&bottom=48,271127" onclick="map.fitBounds([[48,271127,2,67739],[48,271727,2,67799]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#9DFF00";>Collège Vasco</td>
<td style="background-color:#44FF00";>Collège Vaco (similaire à 69%) - distance 28 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,674007&right=2,674607&top=48,27974&bottom=48,27914" onclick="map.fitBounds([[48,27914,2,674007],[48,27974,2,674607]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Cité Scolaire</td>
<td style="background-color:#97FF00";> (similaire à 0%) - distance 60 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,712901&right=2,713501&top=48,261657&bottom=48,261057&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Cité Scolaire&select=node2726745474" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,712901&right=2,713501&top=48,261657&bottom=48,261057" onclick="map.fitBounds([[48,261057,2,712901],[48,261657,2,713501]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.713201,48.261357],[2.674307,48.27944],[2.67769,48.271427],[2.68534,48.267431],[2.685749,48.266072],[2.68099,48.2632],[2.679084,48.264194],[2.678018,48.267992],[2.672665,48.269077],[2.66438,48.270718],[2.649878,48.264653],[2.654039,48.24683],[2.652579,48.243199],[2.626154,48.233631],[2.613433,48.24476],[2.607827,48.244815],[2.600267,48.245929],[2.606268,48.216576]]},
	{"type":"Point","coordinates":[2.713201,48.261357]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
