<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_274.html">274</a>
 - <a href="get_trips_3_274_003003014:14_1.html">003003014:14 1</a>
 80025871-199620
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%2014%20%3A%20Ozoir%20rer%20%E2%86%92%20Mairie%20de%20Servon%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Ozoir%20rer%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Mairie%20de%20Servon%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%2214%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22Arlequin%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23FFA619%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 14 : Ozoir rer → Mairie de Servon</td></tr>
<tr><td>from:Ozoir rer</td></tr>
<tr><td>to:Mairie de Servon</td></tr>
<tr><td>network:Arlequin</td></tr>
<tr><td>ref:14</td></tr>
<tr><td>colour:#FFA619</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Ozoir rer</td>
<td style="background-color:#2AFF00";> (node similaire à 0%) - distance 18 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.689531&right=2.690131&top=48.77043&bottom=48.76983&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Ozoir rer&select=node462234982" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.689531&right=2.690131&top=48.77043&bottom=48.76983" onclick="map.fitBounds([[48.76983,2.689531],[48.77043,2.690131]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#E0FF00";>Ferme Pereire</td>
<td style="background-color:#00FF00";>Ferme Peirère (node similaire à 56%) - distance 2 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.699723&right=2.700323&top=48.757888&bottom=48.757288" onclick="map.fitBounds([[48.757288,2.699723],[48.757888,2.700323]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Belle Croix</td>
<td style="background-color:#78FF00";>LEP L. Ventura (node similaire à 0%) - distance 48 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.691714&right=2.692314&top=48.759647&bottom=48.759047&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Belle Croix&select=node1390128589" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.691714&right=2.692314&top=48.759647&bottom=48.759047" onclick="map.fitBounds([[48.759047,2.691714],[48.759647,2.692314]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFEF00";>Mairie d'Ozoir</td>
<td style="background-color:#08FF00";>Mairie (node similaire à 47%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.672522&right=2.673122&top=48.762435&bottom=48.761835" onclick="map.fitBounds([[48.761835,2.672522],[48.762435,2.673122]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF6D00";>Eglise d'Ozoir</td>
<td style="background-color:#18FF00";>Église (node similaire à 22%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.667278&right=2.667878&top=48.762908&bottom=48.762308" onclick="map.fitBounds([[48.762308,2.667278],[48.762908,2.667878]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Clos la Vigne</td>
<td style="background-color:#08FF00";>Clos la Vigne (node similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.646682&right=2.647282&top=48.754065&bottom=48.753465" onclick="map.fitBounds([[48.753465,2.646682],[48.754065,2.647282]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Clos Prieur</td>
<td style="background-color:#5CFF00";> (node similaire à 0%) - distance 37 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.635758&right=2.636358&top=48.747891&bottom=48.747291&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Clos Prieur&select=node1863068023" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.635758&right=2.636358&top=48.747891&bottom=48.747291" onclick="map.fitBounds([[48.747291,2.635758],[48.747891,2.636358]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Romaine Vimont</td>
<td style="background-color:#5CFF00";> (node similaire à 0%) - distance 37 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.633563&right=2.634163&top=48.756193&bottom=48.755593&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Romaine Vimont&select=node1863068359" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.633563&right=2.634163&top=48.756193&bottom=48.755593" onclick="map.fitBounds([[48.755593,2.633563],[48.756193,2.634163]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Clos st yon</td>
<td style="background-color:#06FF00";> (node similaire à 0%) - distance 4 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.627364&right=2.627964&top=48.753836&bottom=48.753236&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Clos st yon&select=node1863068343" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.627364&right=2.627964&top=48.753836&bottom=48.753236" onclick="map.fitBounds([[48.753236,2.627364],[48.753836,2.627964]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Rue de Pontault</td>
<td style="background-color:#FFAE00";>Rue de Pontault (node similaire à 100%) - distance 131 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.617886&right=2.618486&top=48.748196&bottom=48.747596" onclick="map.fitBounds([[48.747596,2.617886],[48.748196,2.618486]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Rond Point du Château</td>
<td style="background-color:#06FF00";>Rond-Point du Château (node similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.614121&right=2.614721&top=48.745643&bottom=48.745043" onclick="map.fitBounds([[48.745043,2.614121],[48.745643,2.614721]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Châtelet</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.745359&lon=2.590949&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Châtelet" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.590649&right=2.591249&top=48.745659&bottom=48.745059" onclick="map.fitBounds([[48.745059,2.590649],[48.745659,2.591249]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Armainvilliers</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.746248&lon=2.603852&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Armainvilliers" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.603552&right=2.604152&top=48.746548&bottom=48.745948" onclick="map.fitBounds([[48.745948,2.603552],[48.746548,2.604152]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Pavé de Paris</td>
<td style="background-color:#22FF00";>Pavé de Paris (node similaire à 100%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.61148&right=2.61208&top=48.744714&bottom=48.744114" onclick="map.fitBounds([[48.744114,2.61148],[48.744714,2.61208]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#63FF00";>Place Charlotte</td>
<td style="background-color:#0BFF00";>Parc Place Charlotte (node similaire à 80%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.606302&right=2.606902&top=48.742218&bottom=48.741618" onclick="map.fitBounds([[48.741618,2.606302],[48.742218,2.606902]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Stade</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.743037&lon=2.600669&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Stade" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.600369&right=2.600969&top=48.743337&bottom=48.742737" onclick="map.fitBounds([[48.742737,2.600369],[48.743337,2.600969]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Parc Centre Commercial</td>
<td style="background-color:#FFFC00";>Parc Centre Commercial (node similaire à 100%) - distance 101 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.605623&right=2.606223&top=48.737052&bottom=48.736452" onclick="map.fitBounds([[48.736452,2.605623],[48.737052,2.606223]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Hyverneaux Réveillon</td>
<td style="background-color:#2DFF00";> (node similaire à 0%) - distance 19 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.60284&right=2.60344&top=48.732204&bottom=48.731604&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Hyverneaux Réveillon&select=node1466195867" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.60284&right=2.60344&top=48.732204&bottom=48.731604" onclick="map.fitBounds([[48.731604,2.60284],[48.732204,2.60344]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Réveillon Ecoles</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.733057&lon=2.59786&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Réveillon Ecoles" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.59756&right=2.59816&top=48.733357&bottom=48.732757" onclick="map.fitBounds([[48.732757,2.59756],[48.733357,2.59816]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Réveillon plr</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.735248&lon=2.595112&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Réveillon plr" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.594812&right=2.595412&top=48.735548&bottom=48.734948" onclick="map.fitBounds([[48.734948,2.594812],[48.735548,2.595412]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mairie de Servon</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.715982&lon=2.588103&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie de Servon" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.587803&right=2.588403&top=48.716282&bottom=48.715682" onclick="map.fitBounds([[48.715682,2.587803],[48.716282,2.588403]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.689831,48.77013],[2.700023,48.757588],[2.692014,48.759347],[2.672822,48.762135],[2.667578,48.762608],[2.646982,48.753765],[2.636058,48.747591],[2.633863,48.755893],[2.627664,48.753536],[2.618186,48.747896],[2.614421,48.745343],[2.590949,48.745359],[2.603852,48.746248],[2.61178,48.744414],[2.606602,48.741918],[2.600669,48.743037],[2.605923,48.736752],[2.60314,48.731904],[2.59786,48.733057],[2.595112,48.735248],[2.588103,48.715982]]},
	{"type":"Point","coordinates":[2.689831,48.77013]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
