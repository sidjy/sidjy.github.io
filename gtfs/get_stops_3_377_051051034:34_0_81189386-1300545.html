<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_377.html">377</a>
 - <a href="get_trips_3_377_051051034:34_0.html">051051034:34 0</a>
 81189386-1300545
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%2034%20%3A%20Val%20d%27Europe%20rer%2034%20%E2%86%92%20Chessy%20Gares%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Val%20d%27Europe%20rer%2034%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Chessy%20Gares%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%2234%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22Pep%27s%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%235F1287%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 34 : Val d'Europe rer 34 → Chessy Gares</td></tr>
<tr><td>from:Val d'Europe rer 34</td></tr>
<tr><td>to:Chessy Gares</td></tr>
<tr><td>network:Pep's</td></tr>
<tr><td>ref:34</td></tr>
<tr><td>colour:#5F1287</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Val d'Europe rer 34</td>
<td style="background-color:#10FF00";> (node similaire à 0%) - distance 8 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.773601&right=2.774201&top=48.855536&bottom=48.854936&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Val d'Europe rer 34&select=node4583171509" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.773601&right=2.774201&top=48.855536&bottom=48.854936" onclick="map.fitBounds([[48.854936,2.773601],[48.855536,2.774201]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFFF00";>Les Pleiades</td>
<td style="background-color:#00FF00";>Les Pléïades (node similaire à 50%) - distance 1 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.783792&right=2.784392&top=48.841702&bottom=48.841102" onclick="map.fitBounds([[48.841102,2.783792],[48.841702,2.784392]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFA600";>Pressoir-Parc d'Entreprises</td>
<td style="background-color:#20FF00";>Pressoir (node similaire à 33%) - distance 14 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.789417&right=2.790017&top=48.841879&bottom=48.841279" onclick="map.fitBounds([[48.841279,2.789417],[48.841879,2.790017]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Robert Thiboust</td>
<td style="background-color:#1BFF00";>Robert Thiboust (node similaire à 100%) - distance 12 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.795165&right=2.795765&top=48.843672&bottom=48.843072" onclick="map.fitBounds([[48.843072,2.795165],[48.843672,2.795765]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Centre Aquatique</td>
<td style="background-color:#47FF00";>Centre Aquatique (node similaire à 100%) - distance 29 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.801455&right=2.802055&top=48.845095&bottom=48.844495" onclick="map.fitBounds([[48.844495,2.801455],[48.845095,2.802055]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFFF00";>Armieres</td>
<td style="background-color:#35FF00";>Armières (node similaire à 50%) - distance 22 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.811882&right=2.812482&top=48.84908&bottom=48.84848" onclick="map.fitBounds([[48.84848,2.811882],[48.84908,2.812482]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Rue de Bellesmes</td>
<td style="background-color:#DEFF00";>Rue de Bellesmes (node similaire à 100%) - distance 87 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.814979&right=2.815579&top=48.848214&bottom=48.847614" onclick="map.fitBounds([[48.847614,2.814979],[48.848214,2.815579]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Ecole des Girandoles</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.845348&lon=2.816535&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Ecole des Girandoles" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.816235&right=2.816835&top=48.845648&bottom=48.845048" onclick="map.fitBounds([[48.845048,2.816235],[48.845648,2.816835]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Marsange</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.843963&lon=2.825469&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Marsange" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.825169&right=2.825769&top=48.844263&bottom=48.843663" onclick="map.fitBounds([[48.843663,2.825169],[48.844263,2.825769]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Cat</td>
<td style="background-color:#0EFF00";>CAT (node similaire à 100%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.828268&right=2.828868&top=48.846587&bottom=48.845987" onclick="map.fitBounds([[48.845987,2.828268],[48.846587,2.828868]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Boulevard des Artisans</td>
<td style="background-color:#0BFF00";>Boulevard des Artisans (node similaire à 100%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.827998&right=2.828598&top=48.849698&bottom=48.849098" onclick="map.fitBounds([[48.849098,2.827998],[48.849698,2.828598]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Gymnase</td>
<td style="background-color:#06FF00";>Gymnase (node similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.824178&right=2.824778&top=48.850388&bottom=48.849788" onclick="map.fitBounds([[48.849788,2.824178],[48.850388,2.824778]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Place de l'Europe</td>
<td style="background-color:#08FF00";>Place de l'Europe (node similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.819383&right=2.819983&top=48.850317&bottom=48.849717" onclick="map.fitBounds([[48.849717,2.819383],[48.850317,2.819983]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Bailly les Genets</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.852&lon=2.818313&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Bailly les Genets" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.818013&right=2.818613&top=48.8523&bottom=48.8517" onclick="map.fitBounds([[48.8517,2.818013],[48.8523,2.818613]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>L'Orme Rond</td>
<td style="background-color:#03FF00";>L'Orme Rond (node similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.815867&right=2.816467&top=48.854466&bottom=48.853866" onclick="map.fitBounds([[48.853866,2.815867],[48.854466,2.816467]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#92FF00";>Pre de Bray</td>
<td style="background-color:#06FF00";>Pré de Bray (node similaire à 71%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.814811&right=2.815411&top=48.859611&bottom=48.859011" onclick="map.fitBounds([[48.859011,2.814811],[48.859611,2.815411]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>La Boiserie</td>
<td style="background-color:#10FF00";>La Boiserie (node similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.818057&right=2.818657&top=48.862995&bottom=48.862395" onclick="map.fitBounds([[48.862395,2.818057],[48.862995,2.818657]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#7DFF00";>Cle des Champs</td>
<td style="background-color:#18FF00";>Clé des Champs (node similaire à 75%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.815556&right=2.816156&top=48.867922&bottom=48.867322" onclick="map.fitBounds([[48.867322,2.815556],[48.867922,2.816156]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Zac du Centre</td>
<td style="background-color:#15FF00";>ZAC du Centre (node similaire à 100%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.812582&right=2.813182&top=48.867547&bottom=48.866947" onclick="map.fitBounds([[48.866947,2.812582],[48.867547,2.813182]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#54FF00";>Rue du Moulin a Vent</td>
<td style="background-color:#08FF00";>Rue du Moulin à Vent (node similaire à 83%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.808371&right=2.808971&top=48.86733&bottom=48.86673" onclick="map.fitBounds([[48.86673,2.808371],[48.86733,2.808971]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#73FF00";>Hotels du val de France</td>
<td style="background-color:#00FF00";>Hôtels du Val de France (node similaire à 77%) - distance 2 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.803187&right=2.803787&top=48.874109&bottom=48.873509" onclick="map.fitBounds([[48.873509,2.803187],[48.874109,2.803787]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF1400";>Santa fe</td>
<td style="background-color:#FFC800";>Séquoia Lodge (node similaire à 5%) - distance 121 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.795381&right=2.795981&top=48.871129&bottom=48.870529&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Santa fe&select=node2274924818" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.795381&right=2.795981&top=48.871129&bottom=48.870529" onclick="map.fitBounds([[48.870529,2.795381],[48.871129,2.795981]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Chessy Gares</td>
<td style="background-color:#8AFF00";>Chessy Gares (node similaire à 100%) - distance 55 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.783334&right=2.783934&top=48.870824&bottom=48.870224" onclick="map.fitBounds([[48.870224,2.783334],[48.870824,2.783934]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.773901,48.855236],[2.784092,48.841402],[2.789717,48.841579],[2.795465,48.843372],[2.801755,48.844795],[2.812182,48.84878],[2.815279,48.847914],[2.816535,48.845348],[2.825469,48.843963],[2.828568,48.846287],[2.828298,48.849398],[2.824478,48.850088],[2.819683,48.850017],[2.818313,48.852],[2.816167,48.854166],[2.815111,48.859311],[2.818357,48.862695],[2.815856,48.867622],[2.812882,48.867247],[2.808671,48.86703],[2.803487,48.873809],[2.795681,48.870829],[2.783634,48.870524]]},
	{"type":"Point","coordinates":[2.773901,48.855236]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
