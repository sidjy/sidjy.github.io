<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_611.html">611</a>
 - <a href="get_trips_3_611_212212024:A1_0.html">212212024:A1 0</a>
 80895417-1214937
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20A1%20%3A%20Gare%20d%27Acheres%20%E2%86%92%20Gare%20d%27Acheres%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Gare%20d%27Acheres%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Gare%20d%27Acheres%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22A1%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22Conflans%20Ach%C3%A8res%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23FFE80B%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus A1 : Gare d'Acheres → Gare d'Acheres</td></tr>
<tr><td>from:Gare d'Acheres</td></tr>
<tr><td>to:Gare d'Acheres</td></tr>
<tr><td>network:Conflans Achères</td></tr>
<tr><td>ref:A1</td></tr>
<tr><td>colour:#FFE80B</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF1400";>Gare d'Acheres</td>
<td style="background-color:#9FFF00";>A1-A2 (similaire à 5%) - distance 63 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,076957&right=2,077557&top=48,969635&bottom=48,969035&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare d'Acheres&select=node2813475303" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,076957&right=2,077557&top=48,969635&bottom=48,969035" onclick="map.fitBounds([[48,969035,2,076957],[48,969635,2,077557]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Lefebvre</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.965113&lon=2.074194&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Lefebvre" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,073894&right=2,074494&top=48,965413&bottom=48,964813" onclick="map.fitBounds([[48,964813,2,073894],[48,965413,2,074494]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Poste</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.962473&lon=2.070959&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Poste" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,070659&right=2,071259&top=48,962773&bottom=48,962173" onclick="map.fitBounds([[48,962173,2,070659],[48,962773,2,071259]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mairie</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.960544&lon=2.06858&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,06828&right=2,06888&top=48,960844&bottom=48,960244" onclick="map.fitBounds([[48,960244,2,06828],[48,960844,2,06888]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Joliot Curie</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.958709&lon=2.067716&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Joliot Curie" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,067416&right=2,068016&top=48,959009&bottom=48,958409" onclick="map.fitBounds([[48,958409,2,067416],[48,959009,2,068016]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Les Cottages</td>
<td style="background-color:#10FF00";>Stade (similaire à 0%) - distance 8 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,071714&right=2,072314&top=48,956592&bottom=48,955992&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Les Cottages&select=node4322175129" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,071714&right=2,072314&top=48,956592&bottom=48,955992" onclick="map.fitBounds([[48,955992,2,071714],[48,956592,2,072314]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Sources</td>
<td style="background-color:#F5FF00";>Les Sources (similaire à 100%) - distance 96 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,072629&right=2,073229&top=48,953737&bottom=48,953137" onclick="map.fitBounds([[48,953137,2,072629],[48,953737,2,073229]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Olympe de Gouges</td>
<td style="background-color:#08FF00";>Olympe de Gouges (similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,070097&right=2,070697&top=48,949975&bottom=48,949375" onclick="map.fitBounds([[48,949375,2,070097],[48,949975,2,070697]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Quatorze Juillet</td>
<td style="background-color:#25FF00";>Quatorze Juillet (similaire à 100%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,067869&right=2,068469&top=48,950644&bottom=48,950044" onclick="map.fitBounds([[48,950044,2,067869],[48,950644,2,068469]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mairie Annexe</td>
<td style="background-color:#06FF00";>Mairie Annexe (similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,064354&right=2,064954&top=48,952262&bottom=48,951662" onclick="map.fitBounds([[48,951662,2,064354],[48,952262,2,064954]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Rocourt</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.953712&lon=2.063389&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Rocourt" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,063089&right=2,063689&top=48,954012&bottom=48,953412" onclick="map.fitBounds([[48,953412,2,063089],[48,954012,2,063689]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Grange Saint Louis</td>
<td style="background-color:#0BFF00";>Grange Saint-Louis (similaire à 100%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,062111&right=2,062711&top=48,955897&bottom=48,955297" onclick="map.fitBounds([[48,955297,2,062111],[48,955897,2,062711]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Pinson Rousseau</td>
<td style="background-color:#00FF00";>Pinson Rousseau (similaire à 100%) - distance 0 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,062743&right=2,063343&top=48,95766&bottom=48,95706" onclick="map.fitBounds([[48,95706,2,062743],[48,95766,2,063343]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Centre Social</td>
<td style="background-color:#25FF00";>Centre Social (similaire à 100%) - distance 16 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,062388&right=2,062988&top=48,960256&bottom=48,959656" onclick="map.fitBounds([[48,959656,2,062388],[48,960256,2,062988]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Jean Jaures</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.962181&lon=2.064873&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Jean Jaures" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,064573&right=2,065173&top=48,962481&bottom=48,961881" onclick="map.fitBounds([[48,961881,2,064573],[48,962481,2,065173]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Foyer des Jeunes</td>
<td style="background-color:#08FF00";>Foyer des Jeunes (similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,067929&right=2,068529&top=48,965382&bottom=48,964782" onclick="map.fitBounds([[48,964782,2,067929],[48,965382,2,068529]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Jules Verne</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.967436&lon=2.072093&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Jules Verne" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,071793&right=2,072393&top=48,967736&bottom=48,967136" onclick="map.fitBounds([[48,967136,2,071793],[48,967736,2,072393]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF1400";>Gare d'Acheres</td>
<td style="background-color:#1DFF00";>A1-A2 (similaire à 5%) - distance 13 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,077037&right=2,077637&top=48,970084&bottom=48,969484&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare d'Acheres&select=node2813475303" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,077037&right=2,077637&top=48,970084&bottom=48,969484" onclick="map.fitBounds([[48,969484,2,077037],[48,970084,2,077637]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.077337,48.969784],[2.072093,48.967436],[2.068229,48.965082],[2.064873,48.962181],[2.062688,48.959956],[2.063043,48.95736],[2.062411,48.955597],[2.063389,48.953712],[2.064654,48.951962],[2.068169,48.950344],[2.070397,48.949675],[2.072929,48.953437],[2.072014,48.956292],[2.067716,48.958709],[2.06858,48.960544],[2.070959,48.962473],[2.074194,48.965113],[2.077257,48.969335]]},
	{"type":"Point","coordinates":[2.077337,48.969784]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
