<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_101.html">101</a>
 - <a href="get_trips_3_101_039039007:39-07_1.html">039039007:39-07 1</a>
 81176831-1293605
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%2039-07%20%3A%20Clairi%C3%A8re%20%E2%86%92%20Gare%20rer%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Clairi%C3%A8re%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Gare%20rer%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%2239-07%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22SAVAC%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23000000%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 39-07 : Clairière → Gare rer</td></tr>
<tr><td>from:Clairière</td></tr>
<tr><td>to:Gare rer</td></tr>
<tr><td>network:SAVAC</td></tr>
<tr><td>ref:39-07</td></tr>
<tr><td>colour:#000000</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#00FF00";>Clairière</td>
<td style="background-color:#06FF00";>Clairière (similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.007302&right=2.007902&top=48.62241&bottom=48.62181" onclick="map.fitBounds([[48.62181,2.007302],[48.62241,2.007902]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Capucins</td>
<td style="background-color:#18FF00";> (similaire à 0%) - distance 11 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.030939&right=2.031539&top=48.619345&bottom=48.618745&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Capucins&select=node1352641412" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.030939&right=2.031539&top=48.619345&bottom=48.618745" onclick="map.fitBounds([[48.618745,2.030939],[48.619345,2.031539]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Collège des 3 Moulins</td>
<td style="background-color:#0BFF00";> (similaire à 0%) - distance 6 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.02669&right=2.02729&top=48.615703&bottom=48.615103&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Collège des 3 Moulins&select=node3794407332" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.02669&right=2.02729&top=48.615703&bottom=48.615103" onclick="map.fitBounds([[48.615103,2.02669],[48.615703,2.02729]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Malassis</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.629702&lon=2.047192&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Malassis" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.046892&right=2.047492&top=48.630002&bottom=48.629402" onclick="map.fitBounds([[48.629402,2.046892],[48.630002,2.047492]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gare</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.644563&lon=2.067429&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.067129&right=2.067729&top=48.644863&bottom=48.644263" onclick="map.fitBounds([[48.644263,2.067129],[48.644863,2.067729]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Monument</td>
<td style="background-color:#B4FF00";>Monument (similaire à 100%) - distance 71 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.074029&right=2.074629&top=48.645715&bottom=48.645115" onclick="map.fitBounds([[48.645115,2.074029],[48.645715,2.074629]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Chambord</td>
<td style="background-color:#03FF00";>Chambord (similaire à 100%) - distance 3 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.070098&right=2.070698&top=48.647755&bottom=48.647155" onclick="map.fitBounds([[48.647155,2.070098],[48.647755,2.070698]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Chaumusson</td>
<td style="background-color:#66FF00";>Chaumusson (similaire à 100%) - distance 41 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.074103&right=2.074703&top=48.652511&bottom=48.651911" onclick="map.fitBounds([[48.651911,2.074103],[48.652511,2.074703]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Tdf</td>
<td style="background-color:#3AFF00";>TDF (similaire à 100%) - distance 24 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.080913&right=2.081513&top=48.658269&bottom=48.657669" onclick="map.fitBounds([[48.657669,2.080913],[48.658269,2.081513]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Lavoir</td>
<td style="background-color:#0BFF00";> (similaire à 0%) - distance 6 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.119194&right=2.119794&top=48.669878&bottom=48.669278&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Lavoir&select=node3794410059" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.119194&right=2.119794&top=48.669878&bottom=48.669278" onclick="map.fitBounds([[48.669278,2.119194],[48.669878,2.119794]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mairie</td>
<td style="background-color:#59FF00";> (similaire à 0%) - distance 36 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.124085&right=2.124685&top=48.671928&bottom=48.671328&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie&select=node1020974357" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.124085&right=2.124685&top=48.671928&bottom=48.671328" onclick="map.fitBounds([[48.671328,2.124085],[48.671928,2.124685]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Saint-Nicolas</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.677353&lon=2.134175&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Saint-Nicolas" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.133875&right=2.134475&top=48.677653&bottom=48.677053" onclick="map.fitBounds([[48.677053,2.133875],[48.677653,2.134475]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#C1FF00";>Sans Soucis</td>
<td style="background-color:#2DFF00";>Sans Soucy (similaire à 62%) - distance 19 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.1421&right=2.1427&top=48.681253&bottom=48.680653" onclick="map.fitBounds([[48.680653,2.1421],[48.681253,2.1427]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Justice</td>
<td style="background-color:#0BFF00";> (similaire à 0%) - distance 6 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.147169&right=2.147769&top=48.683607&bottom=48.683007&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Justice&select=node2288886403" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.147169&right=2.147769&top=48.683607&bottom=48.683007" onclick="map.fitBounds([[48.683007,2.147169],[48.683607,2.147769]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Baratage</td>
<td style="background-color:#20FF00";>Baratage (similaire à 100%) - distance 14 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.151054&right=2.151654&top=48.686571&bottom=48.685971" onclick="map.fitBounds([[48.685971,2.151054],[48.686571,2.151654]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Fauvettes</td>
<td style="background-color:#49FF00";>Les Fauvettes (similaire à 100%) - distance 30 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.152963&right=2.153563&top=48.688129&bottom=48.687529" onclick="map.fitBounds([[48.687529,2.152963],[48.688129,2.153563]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gardey</td>
<td style="background-color:#BCFF00";> (similaire à 0%) - distance 74 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.159329&right=2.159929&top=48.692435&bottom=48.691835&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gardey&select=node1616074833" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.159329&right=2.159929&top=48.692435&bottom=48.691835" onclick="map.fitBounds([[48.691835,2.159329],[48.692435,2.159929]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Croix</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.694388&lon=2.163898&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Croix" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.163598&right=2.164198&top=48.694688&bottom=48.694088" onclick="map.fitBounds([[48.694088,2.163598],[48.694688,2.164198]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Grand Mesnil</td>
<td style="background-color:#4CFF00";>Grand Mesnil (similaire à 100%) - distance 31 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.173507&right=2.174107&top=48.695583&bottom=48.694983" onclick="map.fitBounds([[48.694983,2.173507],[48.695583,2.174107]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gare rer</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.698201&lon=2.18447&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare rer" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.18417&right=2.18477&top=48.698501&bottom=48.697901" onclick="map.fitBounds([[48.697901,2.18417],[48.698501,2.18477]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.007602,48.62211],[2.031239,48.619045],[2.02699,48.615403],[2.047192,48.629702],[2.067429,48.644563],[2.074329,48.645415],[2.070398,48.647455],[2.074403,48.652211],[2.081213,48.657969],[2.119494,48.669578],[2.124385,48.671628],[2.134175,48.677353],[2.1424,48.680953],[2.147469,48.683307],[2.151354,48.686271],[2.153263,48.687829],[2.159629,48.692135],[2.163898,48.694388],[2.173807,48.695283],[2.18447,48.698201]]},
	{"type":"Point","coordinates":[2.007602,48.62211]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
