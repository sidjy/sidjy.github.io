<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_442.html">442</a>
 - <a href="get_trips_3_442_100100584:V5_0.html">100100584:V5 0</a>
 80539845-1162810
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20V5%20%3A%20Chaperon%20Vert%20%E2%86%92%20Gabriel%20Peri%20-%20Soleil%20Levant.%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Chaperon%20Vert%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Gabriel%20Peri%20-%20Soleil%20Levant.%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22V5%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22RATP%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23328E5B%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus V5 : Chaperon Vert → Gabriel Peri - Soleil Levant.</td></tr>
<tr><td>from:Chaperon Vert</td></tr>
<tr><td>to:Gabriel Peri - Soleil Levant.</td></tr>
<tr><td>network:RATP</td></tr>
<tr><td>ref:V5</td></tr>
<tr><td>colour:#328E5B</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#63FF00";>Gabriel Peri - Soleil Levant.</td>
<td style="background-color:#18FF00";>Gabriel Péri - Soleil Levant (similaire à 80%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,345328&right=2,345928&top=48,808731&bottom=48,808131" onclick="map.fitBounds([[48,808131,2,345328],[48,808731,2,345928]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#78FF00";>Cite des h.b.m.</td>
<td style="background-color:#28FF00";>Cité des H.B.M. (similaire à 76%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,346798&right=2,347398&top=48,808254&bottom=48,807654" onclick="map.fitBounds([[48,807654,2,346798],[48,808254,2,347398]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Fondation Vallee</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.810462&lon=2.347846&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Fondation Vallee" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,347546&right=2,348146&top=48,810762&bottom=48,810162" onclick="map.fitBounds([[48,810162,2,347546],[48,810762,2,348146]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Allende - Reine Blanche</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.812403&lon=2.347806&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Allende - Reine Blanche" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,347506&right=2,348106&top=48,812703&bottom=48,812103" onclick="map.fitBounds([[48,812103,2,347506],[48,812703,2,348106]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#DBFF00";>Jean Jaures - Saint Eloi</td>
<td style="background-color:#08FF00";>Jean Jaurès – Saint-Éloi (similaire à 57%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,349901&right=2,350501&top=48,813826&bottom=48,813226" onclick="map.fitBounds([[48,813226,2,349901],[48,813826,2,350501]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mairie de Gentilly.</td>
<td style="background-color:#83FF00";>Mairie de Gentilly (similaire à 100%) - distance 52 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,350637&right=2,351237&top=48,815866&bottom=48,815266" onclick="map.fitBounds([[48,815266,2,350637],[48,815866,2,351237]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Verdun - Victor Hugo.</td>
<td style="background-color:#2FFF00";>Verdun – Victor Hugo (similaire à 100%) - distance 20 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,352692&right=2,353292&top=48,816891&bottom=48,816291" onclick="map.fitBounds([[48,816291,2,352692],[48,816891,2,353292]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Val de Marne</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.816519&lon=2.348215&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Val de Marne" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,347915&right=2,348515&top=48,816819&bottom=48,816219" onclick="map.fitBounds([[48,816219,2,347915],[48,816819,2,348515]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gautherot - Carrefour Mazagran</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.815918&lon=2.343193&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gautherot - Carrefour Mazagran" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,342893&right=2,343493&top=48,816218&bottom=48,815618" onclick="map.fitBounds([[48,815618,2,342893],[48,816218,2,343493]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Gentilly rer</td>
<td style="background-color:#22FF00";>Gentilly RER (similaire à 100%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,340797&right=2,341397&top=48,816559&bottom=48,815959" onclick="map.fitBounds([[48,815959,2,340797],[48,816559,2,341397]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Chaperon Vert.</td>
<td style="background-color:#08FF00";>Chaperon Vert (similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,335435&right=2,336035&top=48,811194&bottom=48,810594" onclick="map.fitBounds([[48,810594,2,335435],[48,811194,2,336035]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Chaperon Vert - Marcel Cachin.</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.813204&lon=2.333422&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Chaperon Vert - Marcel Cachin." target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,333122&right=2,333722&top=48,813504&bottom=48,812904" onclick="map.fitBounds([[48,812904,2,333122],[48,813504,2,333722]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Chaperon Vert - Marcel Cachin</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.812502&lon=2.332741&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Chaperon Vert - Marcel Cachin" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,332441&right=2,333041&top=48,812802&bottom=48,812202" onclick="map.fitBounds([[48,812202,2,332441],[48,812802,2,333041]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Chaperon Vert</td>
<td style="background-color:#35FF00";>Chaperon Vert (similaire à 100%) - distance 22 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,335163&right=2,335763&top=48,811311&bottom=48,810711" onclick="map.fitBounds([[48,810711,2,335163],[48,811311,2,335763]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.335463,48.811011],[2.332741,48.812502],[2.333422,48.813204],[2.335735,48.810894],[2.341097,48.816259],[2.343193,48.815918],[2.348215,48.816519],[2.352992,48.816591],[2.350937,48.815566],[2.350201,48.813526],[2.347806,48.812403],[2.347846,48.810462],[2.347098,48.807954],[2.345628,48.808431]]},
	{"type":"Point","coordinates":[2.335463,48.811011]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
