<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_678.html">678</a>
 - <a href="get_trips_3_678_230410453:453_0.html">230410453:453 0</a>
 80836926-1204760
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20453%20%3A%20Saint-R%C3%A9my-l%C3%A8s-Chevreuse%20Gare%20%E2%86%92%20E.%20Viollet-le-duc%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Saint-R%C3%A9my-l%C3%A8s-Chevreuse%20Gare%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22E.%20Viollet-le-duc%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22453%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22SQYBUS%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23E9386A%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 453 : Saint-Rémy-lès-Chevreuse Gare → E. Viollet-le-duc</td></tr>
<tr><td>from:Saint-Rémy-lès-Chevreuse Gare</td></tr>
<tr><td>to:E. Viollet-le-duc</td></tr>
<tr><td>network:SQYBUS</td></tr>
<tr><td>ref:453</td></tr>
<tr><td>colour:#E9386A</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF3E00";>E. Viollet-le-duc</td>
<td style="background-color:#10FF00";>Lycée de Villaroy (similaire à 13%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,06708&right=2,06768&top=48,76416&bottom=48,76356" onclick="map.fitBounds([[48,76356,2,06708],[48,76416,2,06768]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Portiques</td>
<td style="background-color:#08FF00";>Les Portiques (similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,06299&right=2,06359&top=48,763809&bottom=48,763209" onclick="map.fitBounds([[48,763209,2,06299],[48,763809,2,06359]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Grande île</td>
<td style="background-color:#10FF00";>Grande Île (similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,059966&right=2,060566&top=48,762238&bottom=48,761638" onclick="map.fitBounds([[48,761638,2,059966],[48,762238,2,060566]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Le val Saint-Quentin</td>
<td style="background-color:#1BFF00";>Le Val Saint-Quentin (similaire à 100%) - distance 12 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,05981&right=2,06041&top=48,761042&bottom=48,760442" onclick="map.fitBounds([[48,760442,2,05981],[48,761042,2,06041]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Tilleuls</td>
<td style="background-color:#10FF00";>Tilleuls (similaire à 100%) - distance 8 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,055144&right=2,055744&top=48,759027&bottom=48,758427" onclick="map.fitBounds([[48,758427,2,055144],[48,759027,2,055744]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Hélène Boucher</td>
<td style="background-color:#15FF00";>Hélène Boucher (similaire à 100%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,052114&right=2,052714&top=48,75866&bottom=48,75806" onclick="map.fitBounds([[48,75806,2,052114],[48,75866,2,052714]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Blaise Pascal</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.757167&lon=2.049471&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Blaise Pascal" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,049171&right=2,049771&top=48,757467&bottom=48,756867" onclick="map.fitBounds([[48,756867,2,049171],[48,757467,2,049771]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Chamfleury</td>
<td style="background-color:#1DFF00";>Chamfleury (similaire à 100%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,043458&right=2,044058&top=48,755601&bottom=48,755001" onclick="map.fitBounds([[48,755001,2,043458],[48,755601,2,044058]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Buloyer</td>
<td style="background-color:#B9FF00";>Buloyer (similaire à 100%) - distance 73 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,028279&right=2,028879&top=48,745631&bottom=48,745031" onclick="map.fitBounds([[48,745031,2,028279],[48,745631,2,028879]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Romainville</td>
<td style="background-color:#0BFF00";> (similaire à 0%) - distance 6 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,041626&right=2,042226&top=48,740757&bottom=48,740157&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Romainville&select=node2564095947" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,041626&right=2,042226&top=48,740757&bottom=48,740157" onclick="map.fitBounds([[48,740157,2,041626],[48,740757,2,042226]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Magny Village</td>
<td style="background-color:#1DFF00";> (similaire à 0%) - distance 13 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,057112&right=2,057712&top=48,742017&bottom=48,741417&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Magny Village&select=node2564096037" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,057112&right=2,057712&top=48,742017&bottom=48,741417" onclick="map.fitBounds([[48,741417,2,057112],[48,742017,2,057712]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Villeneuve</td>
<td style="background-color:#00FF00";> (similaire à 0%) - distance 2 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,071582&right=2,072182&top=48,734571&bottom=48,733971&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Villeneuve&select=node2564095655" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,071582&right=2,072182&top=48,734571&bottom=48,733971" onclick="map.fitBounds([[48,733971,2,071582],[48,734571,2,072182]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#2AFF00";>Parc d'Activités de Gomberville</td>
<td style="background-color:#0EFF00";>Parc d'Activité de Gomberville (similaire à 91%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,081409&right=2,082009&top=48,728481&bottom=48,727881" onclick="map.fitBounds([[48,727881,2,081409],[48,728481,2,082009]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFFF00";>Hôtel de Ville</td>
<td style="background-color:#08FF00";>Magny Hotel de Ville (similaire à 50%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,083437&right=2,084037&top=48,72498&bottom=48,72438" onclick="map.fitBounds([[48,72438,2,083437],[48,72498,2,084037]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>La Chapelle Lacoste</td>
<td style="background-color:#15FF00";>La Chapelle Lacoste (similaire à 100%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,085692&right=2,086292&top=48,725128&bottom=48,724528" onclick="map.fitBounds([[48,724528,2,085692],[48,725128,2,086292]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Hodebourg</td>
<td style="background-color:#1DFF00";>Hodebourg (similaire à 100%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,089271&right=2,089871&top=48,723716&bottom=48,723116" onclick="map.fitBounds([[48,723116,2,089271],[48,723716,2,089871]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Joseph Lemarchand</td>
<td style="background-color:#20FF00";>Joseph Lemarchand (similaire à 100%) - distance 14 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,093023&right=2,093623&top=48,723301&bottom=48,722701" onclick="map.fitBounds([[48,722701,2,093023],[48,723301,2,093623]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Victor Hugo</td>
<td style="background-color:#1BFF00";>Victor Hugo (similaire à 100%) - distance 12 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,096712&right=2,097312&top=48,721691&bottom=48,721091" onclick="map.fitBounds([[48,721091,2,096712],[48,721691,2,097312]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Le Buisson</td>
<td style="background-color:#3CFF00";>Le Buisson (similaire à 100%) - distance 25 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,10148&right=2,10208&top=48,718662&bottom=48,718062" onclick="map.fitBounds([[48,718062,2,10148],[48,718662,2,10208]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les 25 Arpents</td>
<td style="background-color:#15FF00";>Les 25 Arpents (similaire à 100%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,088828&right=2,089428&top=48,719904&bottom=48,719304" onclick="map.fitBounds([[48,719304,2,088828],[48,719904,2,089428]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Saint Exupéry Petit Prince</td>
<td style="background-color:#28FF00";>Saint-Exupéry - Petit Prince (similaire à 100%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,080503&right=2,081103&top=48,72207&bottom=48,72147" onclick="map.fitBounds([[48,72147,2,080503],[48,72207,2,081103]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Fraternité</td>
<td style="background-color:#18FF00";>Fraternité (similaire à 100%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,079227&right=2,079827&top=48,721888&bottom=48,721288" onclick="map.fitBounds([[48,721288,2,079227],[48,721888,2,079827]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Mendès-France</td>
<td style="background-color:#13FF00";>Mendès-France (similaire à 100%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,076223&right=2,076823&top=48,719598&bottom=48,718998" onclick="map.fitBounds([[48,718998,2,076223],[48,719598,2,076823]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Chemin de la Chapelle</td>
<td style="background-color:#1DFF00";>Chemin de la Chapelle (similaire à 100%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,077943&right=2,078543&top=48,717903&bottom=48,717303" onclick="map.fitBounds([[48,717303,2,077943],[48,717903,2,078543]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Chèvrefeuille</td>
<td style="background-color:#06FF00";>Chèvrefeuille (similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,080527&right=2,081127&top=48,717216&bottom=48,716616" onclick="map.fitBounds([[48,716616,2,080527],[48,717216,2,081127]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Centre Commercial</td>
<td style="background-color:#13FF00";>Centre Commercial (similaire à 100%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,084579&right=2,085179&top=48,716488&bottom=48,715888" onclick="map.fitBounds([[48,715888,2,084579],[48,716488,2,085179]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Beauplan</td>
<td style="background-color:#00FF00";>Beauplan (similaire à 100%) - distance 2 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,085319&right=2,085919&top=48,715024&bottom=48,714424" onclick="map.fitBounds([[48,714424,2,085319],[48,715024,2,085919]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Prés</td>
<td style="background-color:#32FF00";>Les Prés (similaire à 100%) - distance 21 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,075007&right=2,075607&top=48,707578&bottom=48,706978" onclick="map.fitBounds([[48,706978,2,075007],[48,707578,2,075607]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFB000";>Place</td>
<td style="background-color:#3FFF00";>Place 14 Juillet (similaire à 35%) - distance 26 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,071306&right=2,071906&top=48,706113&bottom=48,705513" onclick="map.fitBounds([[48,705513,2,071306],[48,706113,2,071906]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Saint-Rémy-lès-Chevreuse Gare</td>
<td style="background-color:#0EFF00";> (similaire à 0%) - distance 7 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,070004&right=2,070604&top=48,703189&bottom=48,702589&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Saint-Rémy-lès-Chevreuse Gare&select=node3071524347" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,070004&right=2,070604&top=48,703189&bottom=48,702589" onclick="map.fitBounds([[48,702589,2,070004],[48,703189,2,070604]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.070304,48.702889],[2.071606,48.705813],[2.075307,48.707278],[2.085619,48.714724],[2.084879,48.716188],[2.080827,48.716916],[2.078243,48.717603],[2.076523,48.719298],[2.079527,48.721588],[2.080803,48.72177],[2.089128,48.719604],[2.10178,48.718362],[2.097012,48.721391],[2.093323,48.723001],[2.089571,48.723416],[2.085992,48.724828],[2.083737,48.72468],[2.081709,48.728181],[2.071882,48.734271],[2.057412,48.741717],[2.041926,48.740457],[2.028579,48.745331],[2.043758,48.755301],[2.049471,48.757167],[2.052414,48.75836],[2.055444,48.758727],[2.06011,48.760742],[2.060266,48.761938],[2.06329,48.763509],[2.06738,48.76386]]},
	{"type":"Point","coordinates":[2.070304,48.702889]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
