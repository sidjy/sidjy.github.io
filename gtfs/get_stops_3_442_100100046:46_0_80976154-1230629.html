<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_442.html">442</a>
 - <a href="get_trips_3_442_100100046:46_0.html">100100046:46 0</a>
 80976154-1230629
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%2046%20%3A%20Gare%20du%20Nord%20%E2%86%92%20Chateau%20de%20Vincennes%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Gare%20du%20Nord%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Chateau%20de%20Vincennes%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%2246%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22RATP%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23CDC83F%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus 46 : Gare du Nord → Chateau de Vincennes</td></tr>
<tr><td>from:Gare du Nord</td></tr>
<tr><td>to:Chateau de Vincennes</td></tr>
<tr><td>network:RATP</td></tr>
<tr><td>ref:46</td></tr>
<tr><td>colour:#CDC83F</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#00FF00";>Gare du Nord</td>
<td style="background-color:#06FF00";>Gare du Nord (node similaire à 100%) - distance 4 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.356977&right=2.357577&top=48.88098&bottom=48.88038" onclick="map.fitBounds([[48.88038,2.356977],[48.88098,2.357577]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#6EFF00";>La Fayette - Dunkerque</td>
<td style="background-color:#35FF00";>Lafayette - Dunkerque (node similaire à 78%) - distance 22 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.355437&right=2.356037&top=48.879776&bottom=48.879176" onclick="map.fitBounds([[48.879176,2.355437],[48.879776,2.356037]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Gare de l'est</td>
<td style="background-color:#22FF00";>Gare de l'Est (node similaire à 100%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.357084&right=2.357684&top=48.876477&bottom=48.875877" onclick="map.fitBounds([[48.875877,2.357084],[48.876477,2.357684]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Verdun</td>
<td style="background-color:#22FF00";>Verdun (node similaire à 100%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.360545&right=2.361145&top=48.876585&bottom=48.875985" onclick="map.fitBounds([[48.875985,2.360545],[48.876585,2.361145]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Chateau Landon</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.878639&lon=2.362277&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Chateau Landon" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.361977&right=2.362577&top=48.878939&bottom=48.878339" onclick="map.fitBounds([[48.878339,2.361977],[48.878939,2.362577]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Canal Saint-Martin</td>
<td style="background-color:#32FF00";>Canal Saint-Martin (node similaire à 100%) - distance 21 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.366009&right=2.366609&top=48.877284&bottom=48.876684" onclick="map.fitBounds([[48.876684,2.366009],[48.877284,2.366609]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Grange aux Belles - Juliette Dodu</td>
<td style="background-color:#4CFF00";>Grange aux Belles - Juliette Dodu (node similaire à 100%) - distance 31 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.368665&right=2.369265&top=48.875792&bottom=48.875192" onclick="map.fitBounds([[48.875192,2.368665],[48.875792,2.369265]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#83FF00";>Hopital Saint-Louis</td>
<td style="background-color:#51FF00";>Hôpital Saint-Louis (node similaire à 74%) - distance 33 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.369631&right=2.370231&top=48.873455&bottom=48.872855" onclick="map.fitBounds([[48.872855,2.369631],[48.873455,2.370231]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Alibert</td>
<td style="background-color:#5EFF00";>Alibert (node similaire à 100%) - distance 38 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.369562&right=2.370162&top=48.871702&bottom=48.871102" onclick="map.fitBounds([[48.871102,2.369562],[48.871702,2.370162]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#B7FF00";>Goncourt</td>
<td style="background-color:#28FF00";>Goncourt. n 75 (node similaire à 64%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.370896&right=2.371496&top=48.869904&bottom=48.869304" onclick="map.fitBounds([[48.869304,2.370896],[48.869904,2.371496]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Fontaine au roi</td>
<td style="background-color:#13FF00";>Fontaine au Roi (node similaire à 100%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.372162&right=2.372762&top=48.868188&bottom=48.867588" onclick="map.fitBounds([[48.867588,2.372162],[48.868188,2.372762]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#78FF00";>Parmentier - Republique</td>
<td style="background-color:#00FF00";>Parmentier-République (node similaire à 76%) - distance 2 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.374571&right=2.375171&top=48.864942&bottom=48.864342" onclick="map.fitBounds([[48.864342,2.374571],[48.864942,2.375171]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Saint-Ambroise</td>
<td style="background-color:#1DFF00";>Saint-Ambroise (node similaire à 100%) - distance 13 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.376394&right=2.376994&top=48.862425&bottom=48.861825" onclick="map.fitBounds([[48.861825,2.376394],[48.862425,2.376994]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Chemin Vert</td>
<td style="background-color:#0EFF00";>Chemin Vert (node similaire à 100%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.378368&right=2.378968&top=48.860348&bottom=48.859748" onclick="map.fitBounds([[48.859748,2.378368],[48.860348,2.378968]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#88FF00";>Voltaire - Leon Blum</td>
<td style="background-color:#66FF00";>Voltaire Léon Blum (node similaire à 73%) - distance 41 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.379456&right=2.380056&top=48.858847&bottom=48.858247" onclick="map.fitBounds([[48.858247,2.379456],[48.858847,2.380056]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Gymnase Japy</td>
<td style="background-color:#08FF00";>Gymnase Japy (node similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.381129&right=2.381729&top=48.856312&bottom=48.855712" onclick="map.fitBounds([[48.855712,2.381129],[48.856312,2.381729]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Charonne - Chanzy</td>
<td style="background-color:#22FF00";>Charonne - Chanzy (node similaire à 100%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.382149&right=2.382749&top=48.853903&bottom=48.853303" onclick="map.fitBounds([[48.853303,2.382149],[48.853903,2.382749]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Faidherbe - Chaligny</td>
<td style="background-color:#0EFF00";>Faidherbe - Chaligny (node similaire à 100%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.384651&right=2.385251&top=48.849885&bottom=48.849285" onclick="map.fitBounds([[48.849285,2.384651],[48.849885,2.385251]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Reuilly - Diderot</td>
<td style="background-color:#08FF00";>Reuilly - Diderot (node similaire à 100%) - distance 5 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.38612&right=2.38672&top=48.847952&bottom=48.847352" onclick="map.fitBounds([[48.847352,2.38612],[48.847952,2.38672]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Montgallet</td>
<td style="background-color:#4CFF00";>Montgallet (node similaire à 100%) - distance 31 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.389929&right=2.390529&top=48.844481&bottom=48.843881" onclick="map.fitBounds([[48.843881,2.389929],[48.844481,2.390529]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Rue de la Gare de Reuilly</td>
<td style="background-color:#22FF00";>Rue de la Gare de Reuilly (node similaire à 100%) - distance 15 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.393249&right=2.393849&top=48.841738&bottom=48.841138" onclick="map.fitBounds([[48.841138,2.393249],[48.841738,2.393849]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#BCFF00";>Daumesnil - Felix Eboue</td>
<td style="background-color:#35FF00";>Daumesnil - Félix Eboué (node similaire à 63%) - distance 22 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.396528&right=2.397128&top=48.839319&bottom=48.838719" onclick="map.fitBounds([[48.838719,2.396528],[48.839319,2.397128]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Sidi Brahim</td>
<td style="background-color:#13FF00";>Sidi Brahim (node similaire à 100%) - distance 9 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.398828&right=2.399428&top=48.838455&bottom=48.837855" onclick="map.fitBounds([[48.837855,2.398828],[48.838455,2.399428]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Michel Bizot</td>
<td style="background-color:#18FF00";>Michel Bizot (node similaire à 100%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.402625&right=2.403225&top=48.83706&bottom=48.83646" onclick="map.fitBounds([[48.83646,2.402625],[48.83706,2.403225]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#CBFF00";>Porte Doree</td>
<td style="background-color:#15FF00";>Porte Dorée (node similaire à 60%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.406857&right=2.407457&top=48.835323&bottom=48.834723" onclick="map.fitBounds([[48.834723,2.406857],[48.835323,2.407457]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Parc Zoologique</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.833634&lon=2.414847&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Parc Zoologique" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.414547&right=2.415147&top=48.833934&bottom=48.833334" onclick="map.fitBounds([[48.833334,2.414547],[48.833934,2.415147]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#2FFF00";>Saint-Mande - Demi Lune - Parc Zoologique</td>
<td style="background-color:#0EFF00";>Saint-Mandé - Demi-Lune - Parc Zoologique (node similaire à 90%) - distance 7 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.420104&right=2.420704&top=48.83535&bottom=48.83475" onclick="map.fitBounds([[48.83475,2.420104],[48.83535,2.420704]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Tourelle - Daumesnil</td>
<td style="background-color:#0BFF00";>Tourelle-Daumesnil (node similaire à 100%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.430023&right=2.430623&top=48.839675&bottom=48.839075" onclick="map.fitBounds([[48.839075,2.430023],[48.839675,2.430623]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Parc Floral</td>
<td style="background-color:#28FF00";>Parc Floral (node similaire à 100%) - distance 17 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.438522&right=2.439122&top=48.84116&bottom=48.84056" onclick="map.fitBounds([[48.84056,2.438522],[48.84116,2.439122]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#7DFF00";>Chateau de Vincennes</td>
<td style="background-color:#15FF00";>Château de Vincennes (node similaire à 75%) - distance 10 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2.440516&right=2.441116&top=48.844519&bottom=48.843919" onclick="map.fitBounds([[48.843919,2.440516],[48.844519,2.441116]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.357277,48.88068],[2.355737,48.879476],[2.357384,48.876177],[2.360845,48.876285],[2.362277,48.878639],[2.366309,48.876984],[2.368965,48.875492],[2.369931,48.873155],[2.369862,48.871402],[2.371196,48.869604],[2.372462,48.867888],[2.374871,48.864642],[2.376694,48.862125],[2.378668,48.860048],[2.379756,48.858547],[2.381429,48.856012],[2.382449,48.853603],[2.384951,48.849585],[2.38642,48.847652],[2.390229,48.844181],[2.393549,48.841438],[2.396828,48.839019],[2.399128,48.838155],[2.402925,48.83676],[2.407157,48.835023],[2.414847,48.833634],[2.420404,48.83505],[2.430323,48.839375],[2.438822,48.84086],[2.440816,48.844219]]},
	{"type":"Point","coordinates":[2.357277,48.88068]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
