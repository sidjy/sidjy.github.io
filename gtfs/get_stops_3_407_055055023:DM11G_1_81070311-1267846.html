<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<title>Interface GTFS</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
		<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-polylinedecorator/1.1.0/leaflet.polylineDecorator.js"></script>
	</head>
<body>
<p><a href="type_of_pt.html">Home</a>
 - <a href="get_agency_3.html">Bus</a>
 - <a href="get_routes_3_407.html">407</a>
 - <a href="get_trips_3_407_055055023:DM11G_1.html">055055023:DM11G 1</a>
 81070311-1267846
</p>
<table id="osm"><tr>
<th><a href="http://localhost:8111/load_data?new_layer=false&data=%3C%3Fxml%20version%3D%271.0%27%20encoding%3D%27UTF-8%27%3F%3E%0A%3Cosm%20version%3D%220.6%22%20upload%3D%22false%22%3E%0A%3Crelation%20id%3D%22-1%22%3E%0A%3Ctag%20k%3D%22type%22%20v%3D%22route%22%2F%3E%0A%3Ctag%20k%3D%22route%22%20v%3D%22bus%22%2F%3E%0A%3Ctag%20k%3D%22public_transport%3Aversion%22%20v%3D%222%22%2F%3E%0A%3Ctag%20k%3D%22name%22%20v%3D%22Bus%20DM11G%20%3A%20Piscine%20%E2%86%92%20Gare%20rer%22%2F%3E%0A%3Ctag%20k%3D%22from%22%20v%3D%22Piscine%22%2F%3E%0A%3Ctag%20k%3D%22to%22%20v%3D%22Gare%20rer%22%2F%3E%0A%3Ctag%20k%3D%22ref%22%20v%3D%22DM11G%22%2F%3E%0A%3Ctag%20k%3D%22network%22%20v%3D%22TRANSPORTS%20DANIEL%20MEYER%22%2F%3E%0A%3Ctag%20k%3D%22colour%22%20v%3D%22%23000000%22%2F%3E%0A%3C%2Frelation%3E%0A%3C%2Fosm%3E%0A" target="hide">Créer la relation route dans JOSM</a> (attention aux doublons)
</th></tr>
<tr><td>name:Bus DM11G : Piscine → Gare rer</td></tr>
<tr><td>from:Piscine</td></tr>
<tr><td>to:Gare rer</td></tr>
<tr><td>network:TRANSPORTS DANIEL MEYER</td></tr>
<tr><td>ref:DM11G</td></tr>
<tr><td>colour:#000000</td></tr>
</table>
<iframe name="hide" style="display: None;"></iframe>
<div>
<div style="width: 640px; float: left;">
<table id="stops" class="main">
<tr><th>name</th><th>OSM?</th><th>ajout</th><th>?</th></tr>

<tr>
<td style="background-color:#FF0000";>Gare rer</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.722478&lon=2.256848&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare rer" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,256548&right=2,257148&top=48,722778&bottom=48,722178" onclick="map.fitBounds([[48,722178,2,256548],[48,722778,2,257148]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Château d'eau</td>
<td style="background-color:#9FFF00";>Château d'Eau (similaire à 100%) - distance 63 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,209905&right=2,210505&top=48,686163&bottom=48,685563" onclick="map.fitBounds([[48,685563,2,209905],[48,686163,2,210505]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Brûlerie</td>
<td style="background-color:#22FF00";> (similaire à 0%) - distance 15 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,217739&right=2,218339&top=48,685775&bottom=48,685175&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Brûlerie&select=node2288892354" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,217739&right=2,218339&top=48,685775&bottom=48,685175" onclick="map.fitBounds([[48,685175,2,217739],[48,685775,2,218339]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mairie</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.683776&lon=2.236722&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,236422&right=2,237022&top=48,684076&bottom=48,683476" onclick="map.fitBounds([[48,683476,2,236422],[48,684076,2,237022]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Edf</td>
<td style="background-color:#0BFF00";>EDF (similaire à 100%) - distance 6 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,23115&right=2,23175&top=48,679676&bottom=48,679076" onclick="map.fitBounds([[48,679076,2,23115],[48,679676,2,23175]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Poitevine</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.67498&lon=2.22132&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Poitevine" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,22102&right=2,22162&top=48,67528&bottom=48,67468" onclick="map.fitBounds([[48,67468,2,22102],[48,67528,2,22162]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Fretay</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.671772&lon=2.213225&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Fretay" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,212925&right=2,213525&top=48,672072&bottom=48,671472" onclick="map.fitBounds([[48,671472,2,212925],[48,672072,2,213525]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Fontaine Jouvence</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.664555&lon=2.214531&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Fontaine Jouvence" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,214231&right=2,214831&top=48,664855&bottom=48,664255" onclick="map.fitBounds([[48,664255,2,214231],[48,664855,2,214831]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Folie Bessin</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.667549&lon=2.198728&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Folie Bessin" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,198428&right=2,199028&top=48,667849&bottom=48,667249" onclick="map.fitBounds([[48,667249,2,198428],[48,667849,2,199028]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Poteau Blanc</td>
<td style="background-color:#CBFF00";>Poteau Blanc (similaire à 100%) - distance 80 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,205488&right=2,206088&top=48,661241&bottom=48,660641" onclick="map.fitBounds([[48,660641,2,205488],[48,661241,2,206088]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FFFF00";>Bel Ebat</td>
<td style="background-color:#18FF00";>Bel Ébat (similaire à 50%) - distance 11 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,210074&right=2,210674&top=48,655835&bottom=48,655235" onclick="map.fitBounds([[48,655235,2,210074],[48,655835,2,210674]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Le gué</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.650282&lon=2.216017&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Le gué" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,215717&right=2,216317&top=48,650582&bottom=48,649982" onclick="map.fitBounds([[48,649982,2,215717],[48,650582,2,216317]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Auteuil</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.64679&lon=2.220596&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Auteuil" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,220296&right=2,220896&top=48,64709&bottom=48,64649" onclick="map.fitBounds([[48,64649,2,220296],[48,64709,2,220896]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Mairie</td>
<td style="background-color:#25FF00";> (similaire à 0%) - distance 16 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,230642&right=2,231242&top=48,642893&bottom=48,642293&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Mairie&select=node1919347313" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,230642&right=2,231242&top=48,642893&bottom=48,642293" onclick="map.fitBounds([[48,642293,2,230642],[48,642893,2,231242]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>La Guillère</td>
<td style="background-color:#7BFF00";>La Guillère (similaire à 100%) - distance 49 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,235718&right=2,236318&top=48,641333&bottom=48,640733" onclick="map.fitBounds([[48,640733,2,235718],[48,641333,2,236318]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Le Houssaye</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.639988&lon=2.243669&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Le Houssaye" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,243369&right=2,243969&top=48,640288&bottom=48,639688" onclick="map.fitBounds([[48,639688,2,243369],[48,640288,2,243969]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Le Fromage mou</td>
<td style="background-color:#9FFF00";>Le Fromage Mou (similaire à 100%) - distance 63 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,253312&right=2,253912&top=48,639846&bottom=48,639246" onclick="map.fitBounds([[48,639246,2,253312],[48,639846,2,253912]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#00FF00";>Les Pichots</td>
<td style="background-color:#00FF00";>Les Pichots (similaire à 100%) - distance 1 m
</td>
<td></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,261695&right=2,262295&top=48,639681&bottom=48,639081" onclick="map.fitBounds([[48,639081,2,261695],[48,639681,2,262295]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Place de l'Europe</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.640391&lon=2.267527&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Place de l'Europe" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,267227&right=2,267827&top=48,640691&bottom=48,640091" onclick="map.fitBounds([[48,640091,2,267227],[48,640691,2,267827]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Place de la Paix</td>
<td style="background-color:#0EFF00";> (similaire à 0%) - distance 7 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,272353&right=2,272953&top=48,641314&bottom=48,640714&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Place de la Paix&select=node3382613438" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,272353&right=2,272953&top=48,641314&bottom=48,640714" onclick="map.fitBounds([[48,640714,2,272353],[48,641314,2,272953]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>La Poste</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.639019&lon=2.274026&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=La Poste" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,273726&right=2,274326&top=48,639319&bottom=48,638719" onclick="map.fitBounds([[48,638719,2,273726],[48,639319,2,274326]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Guiperreux</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.634711&lon=2.289397&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Guiperreux" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,289097&right=2,289697&top=48,635011&bottom=48,634411" onclick="map.fitBounds([[48,634411,2,289097],[48,635011,2,289697]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Vallée de l'Orge</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.63432&lon=2.299528&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Vallée de l'Orge" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,299228&right=2,299828&top=48,63462&bottom=48,63402" onclick="map.fitBounds([[48,63402,2,299228],[48,63462,2,299828]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Gare de st Michel sur Orge</td>
<td style="background-color:#15FF00";> (similaire à 0%) - distance 10 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,307025&right=2,307625&top=48,63659&bottom=48,63599&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Gare de st Michel sur Orge&select=node3875751897" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,307025&right=2,307625&top=48,63659&bottom=48,63599" onclick="map.fitBounds([[48,63599,2,307025],[48,63659,2,307625]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Cottage</td>
<td style="background-color:#FF0000";>no</td>
<td><a href="http://localhost:8111/add_node?lat=48.638872&lon=2.318486&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Cottage" target="hide">ajouter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,318186&right=2,318786&top=48,639172&bottom=48,638572" onclick="map.fitBounds([[48,638572,2,318186],[48,639172,2,318786]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Normandie Niemen</td>
<td style="background-color:#22FF00";> (similaire à 0%) - distance 15 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,331438&right=2,332038&top=48,63769&bottom=48,63709&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Normandie Niemen&select=node563309784" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,331438&right=2,332038&top=48,63769&bottom=48,63709" onclick="map.fitBounds([[48,63709,2,331438],[48,63769,2,332038]]);" target="hide">zoom JOSM</a></td>
</tr>
<tr>
<td style="background-color:#FF0000";>Piscine</td>
<td style="background-color:#08FF00";> (similaire à 0%) - distance 5 m
</td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,342817&right=2,343417&top=48,634913&bottom=48,634313&addtags=highway=bus_stop%7Cpublic_transport=platform%7Cname=Piscine&select=node2288758236" target="hide">compléter arrêt</a></td>
<td><a href="http://localhost:8111/load_and_zoom?left=2,342817&right=2,343417&top=48,634913&bottom=48,634313" onclick="map.fitBounds([[48,634313,2,342817],[48,634913,2,343417]]);" target="hide">zoom JOSM</a></td>
</tr>
</table>
</div><div id="map" style="width: 640px; height: 400px; float: left;">
</div></div>


<script type='text/javascript'> // couche "osmfr" 
var osmfr = L.tileLayer('http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', 
{
    attribution: 'donn&eacute;es &copy; <a href="http://osm.org/copyright">OpenStreetMap</a>/ODbL - rendu cquest',
    minZoom: 1,
    maxZoom: 20
});
  
// liste des couches de base
var baseMaps = {
    "Rendu FR": osmfr
};
var geojsonFeature ={
  "type":"Feature",
  "geometry": {
	"type":"GeometryCollection",
	"geometries": [
	{"type":"LineString","coordinates":[[2.343117,48.634613],[2.331738,48.63739],[2.318486,48.638872],[2.307325,48.63629],[2.299528,48.63432],[2.289397,48.634711],[2.274026,48.639019],[2.272653,48.641014],[2.267527,48.640391],[2.261995,48.639381],[2.253612,48.639546],[2.243669,48.639988],[2.236018,48.641033],[2.230942,48.642593],[2.220596,48.64679],[2.216017,48.650282],[2.210374,48.655535],[2.205788,48.660941],[2.198728,48.667549],[2.214531,48.664555],[2.213225,48.671772],[2.22132,48.67498],[2.23145,48.679376],[2.236722,48.683776],[2.218039,48.685475],[2.210205,48.685863],[2.256848,48.722478]]},
	{"type":"Point","coordinates":[2.343117,48.634613]}]},

  "properties": {
	"name":"test"
  }
};


map = L.map('map', { center: [47.000,2.000], zoom: 10, layers: [osmfr] } );
json = L.geoJSON(geojsonFeature).addTo(map); 
map.fitBounds(json.getBounds());
jj=json.getLayers()[0]._layers;

idx=Object.keys(jj)[0]

//debugger;
var decorator = L.polylineDecorator(jj[idx]._latlngs, 
{
    patterns: [
            {offset: 25, repeat: 50, symbol: L.Symbol.arrowHead({pixelSize: 15, pathOptions: 
{fillOpacity: 1, weight: 0}})}
        ]
}).addTo(map);

// ajout de l'échelle
L.control.scale().addTo(map);

</script>


</body>
</html>
